import { test, expect } from '@playwright/test';
import getName          from '../../../tools/playwright-helper/getname.js';
import { opendir }      from 'node:fs/promises';
import { join }         from 'node:path';

const ROOT          = '/src';
const IMPORT_LIB    = ROOT + '/lib/gsvg.script.js';
const IMPORT_PLUGIN = ROOT + '/plugins/shapes.extra.script.js';
const URL           = '/test/plugins/shapes.extra/cases/';
const FOLDER        = './test/plugins/shapes.extra/cases/';

const results = {
  case01 : `<svg viewBox="0 0 100 100" width="100" height="100"> <path stroke="black" stroke-width="3" fill="red" d="M66.0727,11.1971L88.8029,33.9273L88.8029,66.0727L66.0727,88.8029L33.9273,88.8029L11.1971,66.0727L11.1971,33.9273L33.9273,11.1971Z"></path> <text x="50" y="52" text-anchor="middle" dominant-baseline="middle" fill="white" font-family="sans-serif" font-weight="bold" style="font-size: 1.2em;">STOP</text> </svg>`,
  case02 : `<svg viewBox="0 0 100 100" width="100" height="100"> <path stroke="black" stroke-width="3" fill="red" d="M8,50a42,42,0,1,0,84,0a42,42,0,1,0,-84,0"></path> <rect x="20" y="40" width="60" height="20" fill="white"></rect> </svg>`,
  case03 : `<svg viewBox="0 0 200 500" width="200" height="200"> <path d="M100,150L108.8168,237.8647L195.1057,219.0983L114.2658,254.6353L158.7785,330.9017L100,265L41.2215,330.9017L85.7342,254.6353L4.8943,219.0983L91.1832,237.8647Z"></path> </svg>`,
  case04 : `<svg viewBox="0 0 200 200" width="200"> <path fill="none" stroke-width="1" stroke="black" id="path" d="M100,1L185.7365,149.5L14.2635,149.5ZM1,100a99,99,0,1,0,198,0a99,99,0,1,0,-198,0"></path> </svg>`,
  case05 : `<svg viewBox="0 0 200 200" width="200"> <circle fill="red" cx="100" cy="100" r="100"></circle> <path fill="none" stroke-width="1" stroke="black" id="path" d="M100,0L200,100L100,200L0,100Z"></path> </svg>`,
  case06 : `<svg viewBox="0 0 200 200" width="200"> <circle fill="red" cx="100" cy="100" r="100"></circle> <path fill="none" stroke-width="1" stroke="black" id="path" d="M100,0L195.1057,69.0983L158.7785,180.9017L41.2215,180.9017L4.8943,69.0983Z"></path> </svg>`,
  case07 : `<svg viewBox="0 0 200 200" width="200"> <circle fill="black" cx="100" cy="100" r="100"></circle> <path fill="none" stroke-width="2" stroke="white" id="path" d="M100,90C101.1862,89.9019,100.5981,89.9328,101.7799,89.9057C102.9936,90.0219,102.3951,89.9464,103.5912,90.1332C104.7931,90.47,104.2038,90.2856,105.375,90.6902C106.5246,91.2466,105.9645,90.9544,107.0707,91.5735C108.1274,92.3411,107.6164,91.9459,108.618,92.7686C109.5428,93.7315,109.0999,93.2418,109.9593,94.25C110.716,95.385,110.3588,94.8127,111.0414,95.9813C111.5979,97.2584,111.3417,96.6189,111.8177,97.9162C112.1473,99.2996,112.0049,98.611,112.25,100C112.3327,101.4488,112.3133,100.7315,112.3101,102.1706C112.1332,103.6401,112.2424,102.9165,111.9811,104.3608C111.5401,105.8041,111.7794,105.0974,111.2583,106.5C110.5574,107.8692,110.924,107.203,110.1501,108.5169C109.202,109.7649,109.6889,109.1623,108.6776,110.3416C107.5038,111.4234,108.0997,110.9063,106.875,111.9078C105.505,112.7825,106.1947,112.3706,104.7883,113.1557C103.2592,113.7875,104.0239,113.498,102.4745,114.0335C100.8299,114.3936,101.6476,114.24,100,114.5C98.2887,114.5673,99.135,114.5593,97.4387,114.5259C95.7133,114.2883,96.562,114.4311,94.8697,114.0954C93.185,113.5502,94.009,113.8443,92.375,113.2069C90.7861,112.3614,91.5584,112.8024,90.0368,111.8737C88.5976,110.7451,89.2917,111.3237,87.9348,110.1239C86.696,108.7391,87.2874,109.4412,86.1436,108C85.151,106.395,85.6175,107.2022,84.73,105.5578C84.0228,103.7768,84.3458,104.6667,83.7507,102.8652C83.3601,100.9594,83.5249,101.9062,83.25,100C83.198,98.0262,83.1946,99.0016,83.2583,97.048C83.5566,95.0667,83.3801,96.0406,83.7903,94.1002C84.4397,92.174,84.0907,93.1154,84.8446,91.25C85.8346,89.4415,85.3192,90.3198,86.4027,88.5905C87.7118,86.9601,87.0415,87.7458,88.4298,86.2112C90.0256,84.8155,89.2173,85.481,90.875,84.195C92.715,83.0845,91.7903,83.6057,93.6726,82.6157C95.7055,81.8332,94.6905,82.1896,96.7441,81.5349C98.911,81.1139,97.8352,81.2898,100,81C102.2363,80.9634,101.1319,80.9486,103.3427,81.0425C105.5798,81.4015,104.4808,81.1914,106.6694,81.676C108.837,82.4296,107.7781,82.0258,109.875,82.896C111.9032,84.0306,110.9188,83.4408,112.8558,84.6791C114.6774,86.1688,113.8002,85.4067,115.5124,86.9836C117.0651,88.7903,116.3253,87.8758,117.7535,89.75C118.982,91.8251,118.4062,90.7829,119.4986,92.9031C120.3565,95.1879,119.9667,94.0477,120.681,96.3534C121.1324,98.7815,120.9453,97.5766,121.25,100C121.2712,102.4988,121.2974,101.2653,121.1734,103.7334C120.7536,106.2264,120.9974,105.0023,120.4383,107.4389C119.5805,109.8479,120.0392,108.6717,119.0526,111C117.7734,113.2479,118.4376,112.1574,117.0445,114.302C115.3743,116.3148,116.228,115.3461,114.4627,117.236C112.445,118.9457,113.4657,118.1316,111.375,119.7021C109.0649,121.0485,110.2246,120.418,107.8665,121.6129C105.3297,122.5461,106.5951,122.1229,104.0373,122.8968C101.348,123.3787,102.6821,123.1804,100,123.5C97.2387,123.5059,98.6013,123.5435,95.8759,123.3892C93.1271,122.9087,94.4763,123.1861,91.7915,122.5526C89.1411,121.5906,90.4347,122.1041,87.875,121.0011C85.4075,119.5774,86.6041,120.316,84.2517,118.7681C82.0477,116.9174,83.108,117.8628,81.0404,115.909C79.1738,113.6803,80.062,114.8072,78.3494,112.5C76.885,109.9549,77.5701,111.232,76.2728,108.636C75.2642,105.8473,75.7209,107.2379,74.8874,104.428C74.3751,101.4775,74.5846,102.9407,74.25,100C74.2595,96.9762,74.2105,98.4678,74.395,95.4851C74.9362,92.4805,74.6251,93.9549,75.3331,91.022C76.3994,88.1301,75.8309,89.5411,77.0503,86.75C78.6186,84.0628,77.8056,85.3655,79.5083,82.8054C81.5395,80.4102,80.5024,81.562,82.6447,79.3168C85.0844,77.2932,83.8512,78.2557,86.375,76.4008C89.1551,74.8185,87.7605,75.5583,90.5944,74.1585C93.6351,73.0746,92.1193,73.5647,95.1813,72.6716C98.393,72.1288,96.8007,72.3495,100,72C103.2863,72.0249,101.6656,71.9644,104.9056,72.1792C108.1661,72.7811,106.5666,72.4364,109.7476,73.2188C112.8809,74.3893,111.3525,73.766,114.375,75.1018C117.2818,76.8147,115.8731,75.9272,118.6408,77.7847C121.2273,79.9964,119.9839,78.8676,122.4068,81.1985C124.5874,83.8491,123.5507,82.5097,125.5477,85.25C127.248,88.2652,126.4536,86.753,127.9559,89.8249C129.1151,93.1175,128.5916,91.4765,129.5442,94.7906C130.1175,98.2634,129.8856,96.5421,130.25,100C130.2098,103.5488,130.2816,101.7991,130.0366,105.2963C129.374,108.8126,129.7524,107.088,128.8955,110.5171C127.6208,113.8918,128.299,112.2461,126.8468,115.5C124.9893,118.6265,125.9512,117.1117,123.9389,120.0871C121.5467,122.8648,122.7672,121.5299,120.2478,124.1304C117.3862,126.4679,118.8318,125.357,115.875,127.4963C112.6248,129.3145,114.2544,128.4654,110.9446,130.0702C107.4001,131.3047,109.1663,130.7478,105.6002,131.7601C101.8661,132.3637,103.7165,132.1207,100,132.5C96.1887,132.4444,98.0675,132.5276,94.313,132.2525C90.5408,131.5291,92.3906,131.9411,88.7133,131.0099C85.0972,129.6309,86.8604,130.3639,83.375,128.7953C80.0289,126.7933,81.6497,127.8297,78.4666,125.6625C75.4977,123.0898,76.9242,124.402,74.146,121.6941C71.6515,118.6215,72.8367,120.1733,70.5551,117C68.619,113.5148,69.5228,115.2619,67.8155,111.7142C66.5056,107.9177,67.096,109.8091,66.0241,105.9909C65.39,101.9956,65.6442,103.9751,65.25,100C65.321,95.9261,65.2263,97.9341,65.5317,93.9223C66.3158,89.8942,65.8702,91.8691,66.8758,87.9438C68.359,84.0862,67.5711,85.9668,69.2561,82.25C71.4027,78.6842,70.2919,80.4111,72.6139,77.0203C75.3671,73.8602,73.9632,75.3782,76.8596,72.4224C80.1432,69.7709,78.4852,71.0303,81.875,68.6066C85.5952,66.5525,83.7307,67.5109,87.5163,65.7012C91.5647,64.316,89.5481,64.9398,93.6184,63.8083C97.8749,63.1437,95.7663,63.4091,100,63C104.3364,63.0863,102.1994,62.9803,106.4684,63.3159C110.7523,64.1607,108.6523,63.6814,112.8258,64.7615C116.9247,66.3489,114.9268,65.5062,118.875,67.3075C122.6605,69.5987,120.8274,68.4135,124.4259,70.8903C127.7773,73.824,126.1677,72.3284,129.3012,75.4134C132.1096,78.9079,130.776,77.1437,133.342,80.75C135.514,84.7052,134.5009,82.7232,136.4131,86.7467C137.8737,91.047,137.2165,88.9053,138.4075,93.2277C139.1026,97.7454,138.826,95.5077,139.25,100C139.1483,104.5989,139.2658,102.3328,138.8999,106.8591C137.9944,111.3989,138.5073,109.1737,137.3528,113.5953C135.6612,117.9357,136.5588,115.8204,134.641,120C132.2053,124.0051,133.4649,122.066,130.8333,125.8722C127.7191,129.4148,129.3064,127.7137,126.0329,131.0248C122.3274,133.9902,124.1978,132.5823,120.375,135.2905C116.1847,137.5805,118.2842,136.5128,114.0228,138.5274C109.4706,140.0633,111.7375,139.3727,107.163,140.6233C102.3842,141.3488,104.7509,141.0611,100,141.5C95.1386,141.3829,97.5337,141.5118,92.7502,141.1157C87.9546,140.1495,90.3048,140.6961,85.6352,139.4671C81.0533,137.6712,83.286,138.6237,78.875,136.5896C74.6502,134.0093,76.6954,135.3433,72.6815,132.5569C68.9478,129.2622,70.7404,130.9412,67.2516,127.4792C64.1292,123.5627,65.6113,125.5393,62.7609,121.5C60.353,117.0747,61.4754,119.2917,59.3583,114.7924C57.747,109.9882,58.4711,112.3803,57.1609,107.5537C56.4049,102.5137,56.7038,105.0095,56.25,100C56.3824,94.8761,56.2422,97.4003,56.6685,92.3595C57.6954,87.308,57.1152,89.7834,58.4186,84.8656C60.3187,80.0424,59.3113,82.3924,61.4619,77.75C64.1867,73.3056,62.7783,75.4568,65.7195,71.2353C69.1948,67.3103,67.424,69.1944,71.0746,65.528C75.202,62.2487,73.1192,63.805,77.375,60.8124C82.0353,58.2865,79.7008,59.4635,84.4381,57.244C89.4942,55.5574,86.9769,56.3149,92.0556,54.945C97.3568,54.1586,94.7319,54.4688,100,54C105.3864,54.1478,102.7331,53.9961,108.0312,54.4526C113.3386,55.5403,110.738,54.9264,115.9039,56.3043C120.9686,58.3086,118.5011,57.2464,123.375,59.5133C128.0391,62.3827,125.7818,60.8999,130.211,63.9959C134.3272,67.6517,132.3515,65.7892,136.1956,69.6283C139.6319,73.9667,138.0014,71.7777,141.1362,76.25C143.78,81.1453,142.5483,78.6934,144.8703,83.6685C146.6323,88.9766,145.8414,86.3341,147.2708,91.6649C148.0876,97.2273,147.7663,94.4732,148.25,100C148.0868,105.6489,148.2499,102.8666,147.7632,108.4219C146.6148,113.9851,147.2623,111.2595,145.81,116.6735C143.7015,121.9796,144.8185,119.3947,142.4352,124.5C139.4213,129.3837,140.9785,127.0203,137.7277,131.6573C133.8914,135.9647,135.8456,133.8975,131.818,137.9192C127.2686,141.5125,129.5638,139.8077,124.875,143.0848C119.7446,145.8465,122.3141,144.5602,117.101,146.9846C111.541,148.822,114.3087,147.9976,108.7258,149.4866C102.9022,150.3339,105.7854,150.0014,100,150.5C94.0886,150.3215,97,150.496,91.1874,149.979C85.3683,148.7699,88.2191,149.4511,82.557,147.9243C77.0095,145.7116,79.7117,146.8835,74.375,144.3838C69.2716,141.2253,71.7411,142.8569,66.8964,139.4513C62.3978,135.4345,64.5566,137.4804,60.3572,133.2643C56.607,128.5039,58.386,130.9053,54.9667,126C52.0869,120.6346,53.428,123.3215,50.9011,117.8706C48.9884,112.0586,49.8462,114.9515,48.2976,109.1165C47.4198,103.0318,47.7635,106.044,47.25,100C47.4439,93.8261,47.258,96.8665,47.8052,90.7966C49.075,84.7218,48.3602,87.6977,49.9614,81.7874C52.2783,75.9985,51.0516,78.8181,53.6676,73.25C56.9707,67.927,55.2647,70.5025,58.8251,65.4502C63.0224,60.7603,60.8849,63.0106,65.2895,58.6336C70.2608,54.7264,67.7532,56.5796,72.875,53.0181C78.4754,50.0204,75.671,51.4161,81.3599,48.7868C87.4238,46.7987,84.4057,47.69,90.4928,46.0818C96.8387,45.1736,93.6974,45.5284,100,45C106.4364,45.2093,103.2669,45.012,109.5941,45.5894C115.9248,46.9199,112.8238,46.1714,118.9821,47.8471C125.0125,50.2682,122.0755,48.9866,127.875,51.7191C133.4177,55.1667,130.7361,53.3863,135.9961,57.1015C140.8772,61.4793,138.5353,59.2501,143.09,63.8432C147.1542,69.0255,145.2267,66.4117,148.9304,71.75C152.0461,77.5854,150.5957,74.6636,153.3276,80.5904C155.3909,86.9061,154.4663,83.7629,156.134,90.1021C157.0727,96.7092,156.7067,93.4388,157.25,100C157.0254,106.6989,157.2341,103.4003,156.6264,109.9848C155.2352,116.5714,156.0173,113.3452,154.2672,119.7517C151.7418,126.0234,153.0783,122.969,150.2295,129C146.6373,134.7624,148.4921,131.9747,144.6221,137.4424C140.0638,142.5147,142.3847,140.0812,137.6031,144.8136C132.2098,149.0347,134.9298,147.0331,129.375,150.879C123.3046,154.1126,126.3439,152.6076,120.1792,155.4419C113.6115,157.5806,116.8799,156.6225,110.2887,158.3499C103.4203,159.319,106.8198,158.9418,100,159.5C93.0385,159.26,96.4662,159.4801,89.6245,158.8423C82.7821,157.3903,86.1334,158.206,79.4788,156.3816C72.9656,153.7519,76.1374,155.1433,69.875,152.178C63.893,148.4413,66.7867,150.3705,61.1113,146.3457C55.8478,141.6069,58.3728,144.0195,53.4628,139.0493C49.0847,133.4451,51.1606,136.2713,47.1725,130.5C43.8209,124.1945,45.3806,127.3514,42.4438,120.9487C40.2298,114.1291,41.2213,117.5227,39.4343,110.6794C38.4348,103.5498,38.8231,107.0784,38.25,100C38.5054,92.776,38.2738,96.3328,38.9419,89.2338C40.4546,82.1355,39.6052,85.6119,41.5041,78.7092C44.238,71.9546,42.7918,75.2438,45.8734,68.75C49.7547,62.5483,47.751,65.5482,51.9307,59.6651C56.85,54.2104,54.3457,56.8269,59.5044,51.7392C65.3196,47.2041,62.3872,49.3543,68.375,45.2239C74.9155,41.7544,71.6412,43.3687,78.2817,40.3295C85.3533,38.0401,81.8345,39.0651,88.9299,37.2185C96.3207,36.1885,92.663,36.588,100,36C107.4865,36.2707,103.8006,36.0278,111.1569,36.7261C118.511,38.2995,114.9095,37.4165,122.0603,39.3898C129.0563,42.2279,125.6498,40.7268,132.375,43.9249C138.7963,47.9507,135.6904,45.8726,141.7812,50.2071C147.4271,55.3069,144.7191,52.7109,149.9844,58.0581C154.6764,64.0843,152.4521,61.0456,156.7247,67.25C160.3121,74.0255,158.6431,70.6337,161.7848,77.5122C164.1495,84.8357,163.0912,81.1917,164.9973,88.5392C166.0578,96.1911,165.647,92.4044,166.25,100C165.9639,107.749,166.2182,103.9341,165.4897,111.5476C163.8556,119.1576,164.7723,115.4309,162.7245,122.8298C159.7822,130.0673,161.3381,126.5434,158.0237,133.5C153.8533,140.141,156.0058,136.929,151.5165,143.2275C146.2362,149.0646,148.9239,146.265,143.3882,151.708C137.151,156.557,140.2959,154.2584,133.875,158.6732C126.8645,162.3786,130.3737,160.655,123.2574,163.8991C115.6819,166.3392,119.4511,165.2474,111.8515,167.2131C103.9384,168.3041,107.8542,167.8821,100,168.5C91.9885,168.1985,95.9325,168.4643,88.0617,167.7055C80.1958,166.0107,84.0476,166.961,76.4006,164.8388C68.9217,161.7923,72.563,163.4031,65.375,159.9723C58.5144,155.6573,61.8324,157.8842,55.3263,153.2401C49.2979,147.7793,52.189,150.5587,46.5684,144.8344C41.5624,138.3863,43.9352,141.6374,39.3782,135C35.5549,127.7544,37.3332,131.3812,33.9866,124.0269C31.4712,116.1995,32.5964,120.0939,30.5711,112.2422C29.4497,104.0679,29.8828,108.1128,29.25,100C29.5668,91.726,29.2897,95.799,30.0786,87.671C31.8342,79.5493,30.8502,83.5262,33.0469,75.6311C36.1976,67.9108,34.532,71.6695,38.0792,64.25C42.5387,57.1697,40.2374,60.5938,45.0363,53.88C50.6777,47.6604,47.8065,50.6431,53.7193,44.8448C60.3784,39.6819,57.0211,42.1289,63.875,37.4297C71.3556,33.4884,67.6113,35.3214,75.2035,31.8723C83.2829,29.2815,79.2633,30.4402,87.3671,28.3552C95.8026,27.2034,91.6286,27.6477,100,27C108.5365,27.3322,104.3344,27.0436,112.7197,27.8628C121.0973,29.6791,116.9952,28.6615,125.1385,30.9326C133.1002,34.1876,129.2241,32.467,136.875,36.1306C144.175,40.7347,140.6447,38.359,147.5663,43.3127C153.9771,49.1346,150.9029,46.1717,156.8788,52.273C162.1987,59.1431,159.6774,55.6796,164.5189,62.75C168.5781,70.4656,166.6905,66.6039,170.242,74.434C172.9081,82.7652,171.7161,78.6205,173.8606,86.9764C175.0429,95.6731,174.5874,91.3699,175.25,100C174.9024,108.799,175.2024,104.4678,174.353,113.1104C172.476,121.7439,173.5273,117.5167,171.1817,125.908C167.8225,134.1112,169.5979,130.1177,165.8179,138C161.0692,145.5196,163.5194,141.8833,158.4109,149.0126C152.4085,155.6146,155.4631,152.4488,149.1733,158.6024C142.0922,164.0793,145.6619,161.4838,138.375,166.4674C130.4244,170.6446,134.4036,168.7023,126.3356,172.3563C117.7524,175.0978,122.0223,173.8723,113.4143,176.0764C104.4565,177.2891,108.8887,176.8225,100,177.5C90.9385,177.1371,95.3987,177.4484,86.4989,176.5688C77.6096,174.6311,81.9619,175.716,73.3224,173.296C64.8779,169.8326,68.9887,171.6629,60.875,167.7665C53.1357,162.8732,56.8781,165.3978,49.5412,160.1345C42.7479,153.9516,46.0052,157.0979,39.674,150.6195C34.0402,143.3275,36.7099,147.0034,31.584,139.5C27.2889,131.3143,29.2858,135.411,25.5294,127.1051C22.7126,118.27,23.9715,122.6651,21.7078,113.805C20.4646,104.586,20.9424,109.1473,20.25,100C20.6283,90.676,20.3055,95.2653,21.2154,86.1081C23.2138,76.963,22.0952,81.4405,24.5897,72.5529C28.1573,63.8669,26.2722,68.0951,30.285,59.75C35.3228,51.7911,32.7238,55.6395,38.1419,48.0949C44.5053,41.1104,41.2673,44.4593,47.9342,37.9504C55.4372,32.1596,51.6551,34.9035,59.375,29.6354C67.7957,25.2224,63.5815,27.274,72.1254,23.4151C81.2124,20.5229,76.6921,21.8153,85.8043,19.492C95.2845,18.2183,90.5941,18.7073,100,18C109.5865,18.3937,104.8682,18.0595,114.2826,18.9996C123.6835,21.0587,119.081,19.9065,128.2167,22.4754C137.1441,26.1472,132.7985,24.2072,141.375,28.3364C149.5536,33.5188,145.5991,30.8454,153.3514,36.4183C160.527,42.9622,157.0867,39.6325,163.7732,46.4879C169.721,54.2019,166.9028,50.3136,172.3131,58.25C176.8441,66.9057,174.7379,62.5741,178.6993,71.3558C181.6667,80.6948,180.341,76.0493,182.7239,85.4136C184.0279,95.155,183.5277,90.3355,184.25,100C183.841,109.8491,184.1866,105.0016,183.2163,114.6733C181.0964,124.3301,182.2822,119.6024,179.6389,128.9862C175.8629,138.155,177.8577,133.692,173.6122,142.5C168.2852,150.8982,171.033,146.8377,165.3053,154.7976C158.5809,162.1645,162.0022,158.6326,154.9583,165.4968C147.0334,171.6015,151.0279,168.7091,142.875,174.2617C133.9843,178.9106,138.4334,176.7497,129.4137,180.8136C119.8228,183.8564,124.5935,182.4972,114.9772,184.9397C104.9745,186.2742,109.9231,185.7628,100,186.5C89.8884,186.0756,94.865,186.4326,84.936,185.4321C75.0233,183.2515,79.8762,184.471,70.2442,181.7533C60.834,177.873,65.4144,179.9227,56.375,175.5607C47.7571,170.0892,51.9238,172.9114,43.7561,167.0289C36.198,160.124,39.8214,163.637,32.7796,156.4046C26.5179,148.2687,29.4845,152.3694,23.7898,144C19.0229,134.8743,21.2384,139.4409,17.0721,130.1833C13.954,120.3404,15.3466,125.2363,12.8445,115.3679C11.4795,105.1041,12.0021,110.1817,11.25,100C11.6897,89.6259,11.3214,94.7315,12.3521,84.5453C14.5934,74.3768,13.3403,79.3547,16.1324,69.4747C20.117,59.823,18.0124,64.5208,22.4907,55.25C28.1068,46.4124,25.2102,50.6852,31.2475,42.3098C38.3329,34.5605,34.7282,38.2755,42.1491,31.056C50.496,24.6373,46.2891,27.6782,54.875,21.8412C64.2358,16.9564,59.5517,19.2266,69.0472,14.9578C79.142,11.7643,74.1209,13.1903,84.2414,10.6287C94.7664,9.2333,89.5597,9.767,100,9C110.6366,9.4551,105.4019,9.0753,115.8454,10.1363C126.2698,12.4383,121.1667,11.1515,131.2948,14.0181C141.1879,18.1069,136.3728,15.9474,145.875,20.5422C154.9322,26.3028,150.5534,23.3317,159.1365,29.5239C167.077,36.7898,163.2705,33.0934,170.6676,40.7028C177.2432,49.2607,174.1282,44.9476,180.1073,53.75C185.1101,63.3458,182.7853,58.5442,187.1565,68.2776C190.4253,78.6244,188.9659,73.4781,191.5871,83.8507C193.013,94.6369,192.4681,89.3011,193.25,100C192.7795,110.8991,193.1707,105.5354,192.0795,116.2361C189.7168,126.9163,191.0372,121.6881,188.0962,132.0644C183.9032,142.1989,186.1175,137.2664,181.4064,147C175.5012,156.2769,178.5467,151.792,172.1997,160.5827C164.7533,168.7145,168.5414,164.8164,160.7434,172.3912C151.9746,179.1238,156.3939,175.9345,147.375,182.0559C137.5442,187.1766,142.4632,184.7971,132.4919,189.2708C121.8933,192.615,127.1647,191.1221,116.54,193.8029C105.4926,195.2593,110.9575,194.7032,100,195.5C88.8384,195.0142,94.3312,195.4168,83.3732,194.2953C72.4371,191.8719,77.7904,193.226,67.1661,190.2105C56.7901,185.9133,61.84,188.1825,51.875,183.3549C42.3785,177.3052,46.9694,180.4251,37.971,173.9233C29.648,166.2963,33.6377,170.1762,25.8852,162.1897C18.9956,153.2099,22.2592,157.7354,15.9955,148.5C10.7569,138.4342,13.191,143.4707,8.6149,133.2615C5.1953,122.4109,6.7217,127.8075,3.9812,116.9307C2.4945,105.6221,3.0617,111.2161,2.25,100C2.7512,88.5759,2.3372,94.1978,3.4888,82.9825C5.973,71.7905,4.5853,77.269,7.6752,66.3965C12.0766,55.7791,9.7526,60.9465,14.6965,50.75C20.8908,41.0338,17.6965,45.7309,24.3531,36.5247C32.1606,28.0105,28.189,32.0917,36.364,24.1616C45.5548,17.1151,40.9231,20.4528,50.375,14.047C60.6759,8.6904,55.5219,11.1792,65.969,6.5006C77.0715,3.0057,71.5497,4.5654,82.6786,1.7654C94.2483,0.2482,88.5252,0.8266,100,0"></path> </svg>`,
}

const dir = await opendir(FOLDER);
for await (const dirent of dir) {
  const file = dirent.name;
  const code = file.replace('.js', '');
  const name = await getName(join(process.cwd(), FOLDER, file));
  test.describe(name, () => {

    test.beforeEach(async ({page}) => {
      await page.goto(`/load.html?case=${ URL }${ dirent.name }&imp=${ IMPORT_LIB }&imp=${ IMPORT_PLUGIN }`);
    });

    test('compare source code result', async ({page}) => {
      const result = page.locator('#result');
      await expect(result).toHaveText(results[code]);
    });

    test('compare image', async ({page}) => {
      const show = page.locator('svg');
      await expect(show).toHaveScreenshot()
    });
  });
}
