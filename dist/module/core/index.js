/* graphane - 1.0.0-beta.8 */ var pe="function",K="undefined",y="object",A="string",D="array",m="number",N="boolean",he="date";var V="";var p=e=>typeof e===y,E=e=>typeof e===A,u=e=>typeof e===pe;var q=e=>!Number.isNaN(e),a=e=>typeof e===K;var de=e=>Array.isArray(e),k=e=>e instanceof Date&&!isNaN(e),g=e=>e===null,Q=e=>e.replace(/-([a-z0-9])/g,(t,n)=>n.toUpperCase());function me(e){if(E(e))try{let t=e.replace(/^\s*{/,"").replace(/}\s*$/,"").split(/((?:[^;^,"']|"[^"]*"|'[^']*')+)/).filter(n=>!["",";",","].includes(n.trim())).map(n=>n.split(":")).map(n=>`"${n[0].trim()}":${O(n[1].trim(),void 0,!0)}`).join(",");return JSON.parse(`{${t}}`)}catch{try{return O(e)}catch(n){console.error(n);return}}else if(p(e))return e}function Z(e){if(E(e))return e.trim().startsWith("[")?(e.match(/\[(.*?)[^\]]]/g)||[]).map(t=>Z(t.substring(1,t.length-1))):e.split(/[,;]/).map(t=>O(t.trim()));if(de(e))return e}function O(e,t,n=!1){if(!E(e))return e;if(e=ye(e.trim()),t===D)return Z(e);if(t===y)return me(e);if(a(t)||t===m){if(a(e)||e==="")return;let r=+e;if(q(r)||t===m)return r}if(a(t)||t===N){if(e==="true")return!0;if(e==="false")return!1;if(t===N)return e==="0"?!1:!!e}if(t===he){try{let r=new Date(e);if(q(r.getTime()))return r}catch{}return}if(a(t)||t===A)return n?`"${e}"`:e}function ye(e){return e[0]==="'"&&e[e.length-1]==="'"||e[0]==='"'&&e[e.length-1]==='"'?e.substring(1,e.length-1):e}var j=new WeakSet,w=!1,B=(e,t)=>!p(e)||g(e)||!u(t)?e:function n(r){if(j.has(r))return r;for(let o in r)p(r[o])&&!g(r[o])&&(r[o]=n(r[o]));let s=new Proxy(r,{get(o,i){let c=Reflect.get(r,i);return u(c)&&k(o)&&E(i)&&i.substring(0,3)==="set"&&u(t)&&(c=function(...f){let d=Reflect.get(o,i).apply(o,f);return!w&&t(e),d}),k(o)?c.bind(o):c},set(o,i,c){let f,d=o[i]===c;return p(c)&&!g(c)?f=Reflect.set(o,i,n(c)):f=Reflect.set(o,i,c),!w&&!d&&t(e),f},deleteProperty(o,i){let c=Reflect.deleteProperty(o,i);return!w&&t(e),c}});return j.add(s),s}(e);B.stop=()=>w=!0;B.start=()=>w=!1;var U=B;var $=!1,M=!0;function Ee(e){return e===null?null:e.constructor?new e.constructor:{}}function I(e){if(!p(e))return e;let t=e===null?null:Object.assign(Ee(e),e);for(let n in t)p(t[n])&&(t[n]=I(t[n]));return t}function ee(e,t){let n=[],r=[];function s(i,c){if(i===null||c===null)return $;if(u(i.valueOf)&&u(c.valueOf)&&(i!==i.valueOf()||c!==c.valueOf()))return i.valueOf()===c.valueOf()&&i.constructor===c.constructor;if(n.indexOf(i)>-1&&r.indexOf(c)>-1)return M;let f=Object.keys(i),d=Object.keys(c);if(f.length!==d.length)return $;if(f.length>0){n.push(i),r.push(c);let _=f.length;for(;_--;){let J=f[_];if(!o(i[J],c[J]))return $}}return M}function o(i,c){if(i===c)return M;let f=typeof i;return f!==typeof c?$:f===m&&isNaN(i)&&isNaN(c)?M:f===y?s(i,c):$}return o(e,t)}var P=globalThis.GRAPHANE_PREFIX||"g-",l=Symbol(),C=Symbol(),h=Symbol(),v=Object.defineProperty;function ge(e,t,n,r=!1){if(!(e.ready===!1||!t))if(r)n?e.setAttribute(t,V):e.removeAttribute(t);else{let s=g(n)||a(n)?V:n.toString();e.hasAttribute(t)&&e.getAttribute(t)!==s&&e.setAttribute(t,s)}}function xe(e){this[l]={};let t=e;do{let n=F.get(t);for(let r in n)if(n.hasOwnProperty(r)&&this.hasOwnProperty(r)){let s=this[r];delete this[r],this[r]=a(s)?I(n[r]):s}else r in this[l]||(this[l][r]=I(n[r]));t=Object.getPrototypeOf(t)}while(t!==HTMLElement)}function Ne(){new MutationObserver(e=>{e.some(t=>!t.attributeName)&&this[h]("update"),(a(this.ready)||this.ready)&&u(this[C])&&this[C](e)}).observe(this,{attributes:!0,childList:!0,subtree:!0,characterData:!0})}var F=new WeakMap,S=class extends HTMLElement{constructor(){super(),xe.call(this,new.target),u(this[C])&&Ne.call(this)}[h](t,n={},r=!1){return this.dispatchEvent(new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n,composed:r}))}};function Oe(e,t){t.propertyName||(t.propertyName=Q(t.name)),te(e,{...t,name:t.propertyName,attribute:t.name});let n=Object.getPrototypeOf(e),r="observedAttributes",s=Object.getOwnPropertyDescriptor(e,r),o=Object.getOwnPropertyDescriptor(n,r),i=s?s.get:void 0;v(e,r,Te(e,t,n,i,s,o));let c="attributeChangedCallback",f=Object.getOwnPropertyDescriptor(e.prototype,c),d=Object.getOwnPropertyDescriptor(n.prototype,c),_=f?f.value:void 0;v(e.prototype,c,Se(t,_,d))}function Se(e,t,n){return{value:function(r,s,o){if(e.name===r){let i=e.propertyName;this[i]!==o&&(e.type===N?this[i]=this.hasAttribute(e.name):this[i]=O(o,e.type))}else t&&t.apply(this,arguments);n?.value&&n.value.apply(this,arguments)},enumerable:!1,writable:!0,configurable:!0}}function Te(e,t,n,r,s,o){let i={enumerable:!1,configurable:!0};return s?o?i.get=function(){return[t.name,...r.call(e),...o.get.call(n)]}:i.get=function(){return[t.name,...r.call(e)]}:i.get=o?function(){return[t.name,...o.get.call(n)]}:function(){return[t.name]},i}function te(e,t){v(e.prototype,t.name,{set:ne(t),get:Ae(t),configurable:!0,enumerable:!1}),F.has(e)||F.set(e,{}),F.get(e)[t.name]=t.value}function Re(e,t){g(e.posUpdateEvent)||(e.posUpdateEvent?this[h](e.posUpdateEvent,{[e.name]:t}):this[h]("update",{[e.name]:t})),u(e.posUpdate)?e.posUpdate.call(this,t):u(this[e.posUpdate])&&this[e.posUpdate]()}function ne(e){return function(t){let n=this[l];u(e.preUpdate)&&!e.preUpdate.call(this,t)||(e.schema&&(U.stop(),t=e.schema.normalize(t),U.start()),!(!p(t)&&ee(n[e.name],t))&&(u(e.set)?e.set.call(this,t):n[e.name]=E(t)&&e.type?O(t,e.type):t,e.attribute&&![D,y].includes(e.type)&&ge(this,e.attribute,t,e.type===N),Re.call(this,e,t)))}}function Ae(e){return function(){if(u(e.get))return e.get.call(this);{let t=this[l];switch(e.type){case m:return a(t[e.name])?void 0:Number(t[e.name]);case N:return!!t[e.name];case y:case D:return U(t[e.name]||(e.type===y?{}:[]),n=>ne(e).call(this,n));default:return t[e.name]}}}}function we(e,t){t=P+t.toLowerCase(),customElements.get(t)||customElements.define(t,e)}function re(e,t={}){return t.prop=(...n)=>(n.forEach(r=>te(e,{...r})),t),t.attr=(...n)=>(n.forEach(r=>Oe(e,{...r})),t),t.tag=n=>(we(e,n),t),t.extension=t.ext=n=>(n.call(t,t,e),t),t}S.CHANGE=C;S.FIRE_EVENT=h;function z(e,t){let n=new WeakMap,r=[];return function(...s){return clearTimeout(n.get(this)),new Promise((o,i)=>{r.push({resolve:o,reject:i}),n.set(this,setTimeout(()=>{try{let c=e.apply(this,s);r.forEach(f=>f.resolve(c))}catch(c){r.forEach(f=>f.reject(c))}finally{r.length=0}},t))})}}function H(e,t){return function(...n){if(e.apply(this,n))return t.apply(this,n)}}function W(e,t){return function(...n){let r=e.apply(this,n);return r instanceof Promise?r.then(s=>t.call(this,s)||s):t.call(this,r)||r}}var ie=1,G=Symbol(),X=Symbol(),T=Symbol(),R=Symbol(),oe=Symbol(),b=Symbol(),se=(e,t)=>e[t]?.forEach(n=>u(n)&&n.apply(e)),x=class extends S{constructor(t){super(),this.attachShadow({mode:"open"}),this[l].ready=t||!1,this[l].rendered=!1,a(t)&&(this.ready=!0)}get ready(){return this[l].ready}set ready(t){let n=this[l],r=n.ready;n.ready=!!t,r===!1&&n.ready===!0&&(this[h]("ready",{ready:!0}),u(this[R])&&this[R]())}get rendered(){return this[l].rendered}set rendered(t){let n=this[l],r=n.rendered;n.rendered=!!t,r===!1&&n.rendered===!0&&this[h]("render",{rendered:!0})}connectedCallback(){let t=this.getBoundingClientRect(),n=getComputedStyle(this).flexDirection,r=()=>{let{width:s,height:o}=this.getBoundingClientRect(),i=getComputedStyle(this).flexDirection;(s!==t.width||o!==t.height||i!==n)&&(u(this[oe])&&this[oe](s,o,s-t.width,o-t.height),t={width:s,height:o},n=i,this[h]("resize",t)),this[l]._resizeObserver=window.requestAnimationFrame(r)};r(),se(this,G)}disconnectedCallback(){window.cancelAnimationFrame(this[l]._resizeObserver),se(this,X)}};x.prototype[G]=[];x.prototype[X]=[];function $e(e,t){let n={name:t.name.startsWith("--")?t.name:`--${P}${t.name}`,initialValue:t.initialValue??t.value??"",syntax:t.syntax??"*",inherits:t.inherits??!0};e.prototype[b]||(e.prototype[b]={}),e.prototype[b][n.name]=n}function Ce(e){if(u(e.prototype[R])){let t=e.prototype[R];e.prototype[R]=H(function(){return this.rendered=!1,this.ready},z(W(async function(){return t.apply(this)},function(n){this.rendered=n!==!1,this.rendered&&u(this[T])&&this[T]()}),ie))}if(u(e.prototype[T])){let t=e.prototype[T];e.prototype[T]=H(function(n){return n&&(this[l].rendered=!0),this.ready&&this[l].rendered},z(W(async function(...n){return t.apply(this,n)},function(){this[h]("refresh")}),ie))}}function Je(e){Ce(e);let t=re(e,{style:(...n)=>(n.forEach(r=>$e(e,{...r})),t)});return t}x.RENDER=R;x.REFRESH=T;x.ONCONNECT=G;x.ONDISCONNECT=X;var ce=e=>e.startsWith("--")?e:`--${P}${e}`;function Ze(e,t,n){n=typeof n=="object"?n.name:n;let r=getComputedStyle(e).getPropertyValue(n);return(a(r)||r==="")&&t&&t.hasOwnProperty(n)?t[n].value:r}function ue(e){return e[b]||{}}function je(e){return Object.keys(ue(e))}function Pe(e,t){let n=ue(e);return t=ce(p(t)?t.name:t),n[t]}function et(e,...t){let n="",r="";for(let s=0;s<t.length;s++){let o=Pe(e,t[s]);n+=`${n?", ":""} var(${ce(o?.name||t[s])}`,r=o?.initialValue}return r&&(n+=`, ${r}`),n+=")".repeat(t.length),n}var be="intersection.enter",_e="intersection.exit",L=Symbol();function De(e){let t=r=>this.dispatchEvent(new CustomEvent(r,{bubbles:!0,cancelable:!0,composed:!0})),n=!1;this[L]&&this[L].disconnect(),this[L]=new IntersectionObserver(r=>{r.forEach(s=>{s.isIntersecting&&s.intersectionRatio>=e?n||(n=!0,t(be)):(n=!1,t(_e))})},{root:null,rootMargin:"0px",threshold:Array(21).fill(0).map((r,s)=>s*.05)}),this[L].observe(this._el||this)}var Y=De;var fe=Symbol();function st(e){e.attr({name:"intersection-once-class",type:A,value:""}).attr({name:"intersection-class",type:A,value:""}).attr({name:"intersection-ratio",type:m,value:0,posUpdate:Me})}var le=(e,t)=>t&&t.split(/\s+/).forEach(n=>e.add(n)),Ue=(e,t)=>t&&t.split(/\s+/).forEach(n=>e.remove(n)),ae=(e,t)=>{t.preventDefault();let n=()=>{e.removeEventListener("render",n),e[h](t.type,t.detail,t.composed)};e.addEventListener("render",n)};function Me(){let e=this[l];if(this[fe])return Y.call(this,e.intersectionRatio);this[fe]=!0;let t=this.classList;this.addEventListener("intersection.enter",n=>{le(t,e.intersectionOnceClass),le(t,e.intersectionClass),this.rendered||ae(this,n)}),this.addEventListener("intersection.exit",n=>{Ue(t,e.intersectionClass),this.rendered||ae(this,n)}),Y.call(this,e.intersectionRatio)}export{x as Base,C as CHANGE,P as COMPONENT_PREFIX,l as CONTEXT,b as CSS_PROPS,h as FIRE_EVENT,G as ONCONNECT,X as ONDISCONNECT,T as REFRESH,R as RENDER,oe as RESIZE,S as Simple,Je as define,je as getCSSProperties,Pe as getCSSProperty,ue as getCSSPropertyDescriptors,Ze as getCSSPropertyValue,et as getCSSVar,st as intersectionCoreExtension};