/* graphane - 1.0.0-beta.8 */ (()=>{var en="function",se="undefined",$="object",v="string",W="array",O="number",k="boolean",nn="date",rn="symbol",Y="",st=",";var sn=";",y=t=>typeof t===$,x=t=>typeof t===v,h=t=>typeof t===en,oe=t=>typeof t===O&&!isNaN(t),it=t=>!Number.isNaN(t),E=t=>typeof t===se,ce=t=>typeof t===rn,ue=t=>typeof t===k,P=t=>Array.isArray(t),wt=t=>t instanceof Date&&!isNaN(t),R=t=>t===null,ot=t=>t.replace(/-([a-z0-9])/g,(e,n)=>n.toUpperCase());function on(t){if(x(t))try{let e=t.replace(/^\s*{/,"").replace(/}\s*$/,"").split(/((?:[^;^,"']|"[^"]*"|'[^']*')+)/).filter(n=>!["",";",","].includes(n.trim())).map(n=>n.split(":")).map(n=>`"${n[0].trim()}":${L(n[1].trim(),void 0,!0)}`).join(",");return JSON.parse(`{${e}}`)}catch{try{return L(t)}catch(n){console.error(n);return}}else if(y(t))return t}function ae(t){if(x(t))return t.trim().startsWith("[")?(t.match(/\[(.*?)[^\]]]/g)||[]).map(e=>ae(e.substring(1,e.length-1))):t.split(/[,;]/).map(e=>L(e.trim()));if(P(t))return t}function L(t,e,n=!1){if(!x(t))return t;if(t=cn(t.trim()),e===W)return ae(t);if(e===$)return on(t);if(E(e)||e===O){if(E(t)||t==="")return;let r=+t;if(it(r)||e===O)return r}if(E(e)||e===k){if(t==="true")return!0;if(t==="false")return!1;if(e===k)return t==="0"?!1:!!t}if(e===nn){try{let r=new Date(t);if(it(r.getTime()))return r}catch{}return}if(E(e)||e===v)return n?`"${t}"`:t}function cn(t){return t[0]==="'"&&t[t.length-1]==="'"||t[0]==='"'&&t[t.length-1]==='"'?t.substring(1,t.length-1):t}function le(t){return/^\s*{/.test(t)&&/}\s*$/.test(t)}function fe(t){return/^\s*\[/.test(t)&&/]\s*$/.test(t)}function he(t){let e=[],n=t.split(/(\r\n|\r|\n)/).map(r=>r.trim()).filter(r=>r);return n.length===0?[]:n.length===1?L(n[0]):n.reduce((r,i,o)=>{let c={},s=i.split(/((?:[^;^,"']|"[^"]*"|'[^']*')+)/).filter(u=>![Y,sn,st].includes(u.trim()));return o===0?(e=[...s.map(u=>L(u))],r):(s.forEach((u,a)=>{c[e[a]]=L(u)}),r.push(c),r)},[])}function bt(t){let e=`return (${t});`,n=new Function(e)();return typeof n=="function"?n():n}var de=new WeakSet,tt=!1,Ot=(t,e)=>!y(t)||R(t)||!h(e)?t:function n(r){if(de.has(r))return r;for(let o in r)y(r[o])&&!R(r[o])&&(r[o]=n(r[o]));let i=new Proxy(r,{get(o,c){let s=Reflect.get(r,c);return h(s)&&wt(o)&&x(c)&&c.substring(0,3)==="set"&&h(e)&&(s=function(...u){let a=Reflect.get(o,c).apply(o,u);return!tt&&e(t),a}),wt(o)?s.bind(o):s},set(o,c,s){let u,a=o[c]===s;return y(s)&&!R(s)?u=Reflect.set(o,c,n(s)):u=Reflect.set(o,c,s),!tt&&!a&&e(t),u},deleteProperty(o,c){let s=Reflect.deleteProperty(o,c);return!tt&&e(t),s}});return de.add(i),i}(t);Ot.stop=()=>tt=!0;Ot.start=()=>tt=!1;var ct=Ot;var et=!1,ut=!0;function un(t){return t===null?null:t.constructor?new t.constructor:{}}function B(t){if(!y(t))return t;let e=t===null?null:Object.assign(un(t),t);for(let n in e)y(e[n])&&(e[n]=B(e[n]));return e}function pe(t,e){let n=[],r=[];function i(c,s){if(c===null||s===null)return et;if(h(c.valueOf)&&h(s.valueOf)&&(c!==c.valueOf()||s!==s.valueOf()))return c.valueOf()===s.valueOf()&&c.constructor===s.constructor;if(n.indexOf(c)>-1&&r.indexOf(s)>-1)return ut;let u=Object.keys(c),a=Object.keys(s);if(u.length!==a.length)return et;if(u.length>0){n.push(c),r.push(s);let d=u.length;for(;d--;){let f=u[d];if(!o(c[f],s[f]))return et}}return ut}function o(c,s){if(c===s)return ut;let u=typeof c;return u!==typeof s?et:u===O&&isNaN(c)&&isNaN(s)?ut:u===$?i(c,s):et}return o(t,e)}function me(t,e){let n=t,r=x(e)?e.split("."):e;for(let i=0;i<r.length;i++){if(E(n[r[i]]))return;n=n[r[i]]}return n}var Ct=globalThis.GRAPHANE_PREFIX||"g-",g=Symbol(),H=Symbol(),S=Symbol(),Rt=Object.defineProperty;function an(t,e,n,r=!1){if(!(t.ready===!1||!e))if(r)n?t.setAttribute(e,Y):t.removeAttribute(e);else{let i=R(n)||E(n)?Y:n.toString();t.hasAttribute(e)&&t.getAttribute(e)!==i&&t.setAttribute(e,i)}}function ln(t){this[g]={};let e=t;do{let n=at.get(e);for(let r in n)if(n.hasOwnProperty(r)&&this.hasOwnProperty(r)){let i=this[r];delete this[r],this[r]=E(i)?B(n[r]):i}else r in this[g]||(this[g][r]=B(n[r]));e=Object.getPrototypeOf(e)}while(e!==HTMLElement)}function fn(){new MutationObserver(t=>{t.some(e=>!e.attributeName)&&this[S]("update"),(E(this.ready)||this.ready)&&h(this[H])&&this[H](t)}).observe(this,{attributes:!0,childList:!0,subtree:!0,characterData:!0})}var at=new WeakMap,X=class extends HTMLElement{constructor(){super(),ln.call(this,new.target),h(this[H])&&fn.call(this)}[S](e,n={},r=!1){return this.dispatchEvent(new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n,composed:r}))}};function hn(t,e){e.propertyName||(e.propertyName=ot(e.name)),ye(t,{...e,name:e.propertyName,attribute:e.name});let n=Object.getPrototypeOf(t),r="observedAttributes",i=Object.getOwnPropertyDescriptor(t,r),o=Object.getOwnPropertyDescriptor(n,r),c=i?i.get:void 0;Rt(t,r,pn(t,e,n,c,i,o));let s="attributeChangedCallback",u=Object.getOwnPropertyDescriptor(t.prototype,s),a=Object.getOwnPropertyDescriptor(n.prototype,s),d=u?u.value:void 0;Rt(t.prototype,s,dn(e,d,a))}function dn(t,e,n){return{value:function(r,i,o){if(t.name===r){let c=t.propertyName;this[c]!==o&&(t.type===k?this[c]=this.hasAttribute(t.name):this[c]=L(o,t.type))}else e&&e.apply(this,arguments);n?.value&&n.value.apply(this,arguments)},enumerable:!1,writable:!0,configurable:!0}}function pn(t,e,n,r,i,o){let c={enumerable:!1,configurable:!0};return i?o?c.get=function(){return[e.name,...r.call(t),...o.get.call(n)]}:c.get=function(){return[e.name,...r.call(t)]}:c.get=o?function(){return[e.name,...o.get.call(n)]}:function(){return[e.name]},c}function ye(t,e){Rt(t.prototype,e.name,{set:Ee(e),get:yn(e),configurable:!0,enumerable:!1}),at.has(t)||at.set(t,{}),at.get(t)[e.name]=e.value}function mn(t,e){R(t.posUpdateEvent)||(t.posUpdateEvent?this[S](t.posUpdateEvent,{[t.name]:e}):this[S]("update",{[t.name]:e})),h(t.posUpdate)?t.posUpdate.call(this,e):h(this[t.posUpdate])&&this[t.posUpdate]()}function Ee(t){return function(e){let n=this[g];h(t.preUpdate)&&!t.preUpdate.call(this,e)||(t.schema&&(ct.stop(),e=t.schema.normalize(e),ct.start()),!(!y(e)&&pe(n[t.name],e))&&(h(t.set)?t.set.call(this,e):n[t.name]=x(e)&&t.type?L(e,t.type):e,t.attribute&&![W,$].includes(t.type)&&an(this,t.attribute,e,t.type===k),mn.call(this,t,e)))}}function yn(t){return function(){if(h(t.get))return t.get.call(this);{let e=this[g];switch(t.type){case O:return E(e[t.name])?void 0:Number(e[t.name]);case k:return!!e[t.name];case $:case W:return ct(e[t.name]||(t.type===$?{}:[]),n=>Ee(t).call(this,n));default:return e[t.name]}}}}function En(t,e){e=Ct+e.toLowerCase(),customElements.get(e)||customElements.define(e,t)}function ge(t,e={}){return e.prop=(...n)=>(n.forEach(r=>ye(t,{...r})),e),e.attr=(...n)=>(n.forEach(r=>hn(t,{...r})),e),e.tag=n=>(En(t,n),e),e.extension=e.ext=n=>(n.call(e,e,t),e),e}X.CHANGE=H;X.FIRE_EVENT=S;function vt(t,e){let n=new WeakMap;return function(...r){clearTimeout(n.get(this)),n.set(this,setTimeout(()=>{t.apply(this,r)},e))}}function Mt(t,e){let n=new WeakMap,r=[];return function(...i){return clearTimeout(n.get(this)),new Promise((o,c)=>{r.push({resolve:o,reject:c}),n.set(this,setTimeout(()=>{try{let s=t.apply(this,i);r.forEach(u=>u.resolve(s))}catch(s){r.forEach(u=>u.reject(s))}finally{r.length=0}},e))})}}function _t(t,e){return function(...n){if(t.apply(this,n))return e.apply(this,n)}}function Lt(t,e){return function(...n){let r=t.apply(this,n);return r instanceof Promise?r.then(i=>e.call(this,i)||i):e.call(this,r)||r}}var Ne=1,It=Symbol(),Ut=Symbol(),J=Symbol(),w=Symbol(),xe=Symbol(),Pt=Symbol(),$e=(t,e)=>t[e]?.forEach(n=>h(n)&&n.apply(t)),M=class extends X{constructor(e){super(),this.attachShadow({mode:"open"}),this[g].ready=e||!1,this[g].rendered=!1,E(e)&&(this.ready=!0)}get ready(){return this[g].ready}set ready(e){let n=this[g],r=n.ready;n.ready=!!e,r===!1&&n.ready===!0&&(this[S]("ready",{ready:!0}),h(this[w])&&this[w]())}get rendered(){return this[g].rendered}set rendered(e){let n=this[g],r=n.rendered;n.rendered=!!e,r===!1&&n.rendered===!0&&this[S]("render",{rendered:!0})}connectedCallback(){let e=this.getBoundingClientRect(),n=getComputedStyle(this).flexDirection,r=()=>{let{width:i,height:o}=this.getBoundingClientRect(),c=getComputedStyle(this).flexDirection;(i!==e.width||o!==e.height||c!==n)&&(h(this[xe])&&this[xe](i,o,i-e.width,o-e.height),e={width:i,height:o},n=c,this[S]("resize",e)),this[g]._resizeObserver=window.requestAnimationFrame(r)};r(),$e(this,It)}disconnectedCallback(){window.cancelAnimationFrame(this[g]._resizeObserver),$e(this,Ut)}};M.prototype[It]=[];M.prototype[Ut]=[];function gn(t,e){let n={name:e.name.startsWith("--")?e.name:`--${Ct}${e.name}`,initialValue:e.initialValue??e.value??"",syntax:e.syntax??"*",inherits:e.inherits??!0};t.prototype[Pt]||(t.prototype[Pt]={}),t.prototype[Pt][n.name]=n}function Nn(t){if(h(t.prototype[w])){let e=t.prototype[w];t.prototype[w]=_t(function(){return this.rendered=!1,this.ready},Mt(Lt(async function(){return e.apply(this)},function(n){this.rendered=n!==!1,this.rendered&&h(this[J])&&this[J]()}),Ne))}if(h(t.prototype[J])){let e=t.prototype[J];t.prototype[J]=_t(function(n){return n&&(this[g].rendered=!0),this.ready&&this[g].rendered},Mt(Lt(async function(...n){return e.apply(this,n)},function(){this[S]("refresh")}),Ne))}}function Se(t){Nn(t);let e=ge(t,{style:(...n)=>(n.forEach(r=>gn(t,{...r})),e)});return e}M.RENDER=w;M.REFRESH=J;M.ONCONNECT=It;M.ONDISCONNECT=Ut;var xn="intersection.enter",$n="intersection.exit",lt=Symbol();function Sn(t){let e=r=>this.dispatchEvent(new CustomEvent(r,{bubbles:!0,cancelable:!0,composed:!0})),n=!1;this[lt]&&this[lt].disconnect(),this[lt]=new IntersectionObserver(r=>{r.forEach(i=>{i.isIntersecting&&i.intersectionRatio>=t?n||(n=!0,e(xn)):(n=!1,e($n))})},{root:null,rootMargin:"0px",threshold:Array(21).fill(0).map((r,i)=>i*.05)}),this[lt].observe(this._el||this)}var Dt=Sn;var Ae=Symbol();function An(t){t.attr({name:"intersection-once-class",type:v,value:""}).attr({name:"intersection-class",type:v,value:""}).attr({name:"intersection-ratio",type:O,value:0,posUpdate:wn})}var Te=(t,e)=>e&&e.split(/\s+/).forEach(n=>t.add(n)),Tn=(t,e)=>e&&e.split(/\s+/).forEach(n=>t.remove(n)),we=(t,e)=>{e.preventDefault();let n=()=>{t.removeEventListener("render",n),t[S](e.type,e.detail,e.composed)};t.addEventListener("render",n)};function wn(){let t=this[g];if(this[Ae])return Dt.call(this,t.intersectionRatio);this[Ae]=!0;let e=this.classList;this.addEventListener("intersection.enter",n=>{Te(e,t.intersectionOnceClass),Te(e,t.intersectionClass),this.rendered||we(this,n)}),this.addEventListener("intersection.exit",n=>{Tn(e,t.intersectionClass),this.rendered||we(this,n)}),Dt.call(this,t.intersectionRatio)}var be=An;var Gt="gSVGObject",bn="http://www.w3.org/2000/svg",On="svg",Ft="d",Oe="transform",Ce="appendChild",Bt="insertBefore",Re="insertAdjacentElement",ve="attach",Me="innerHTML",Vt=new WeakMap,kt=new Set,Rn=t=>ce(t)||t.startsWith("_")||["el","gSVG","then"].includes(t),ft=(t,e)=>t instanceof e,Cn=()=>Gt+Math.random().toString(32).substring(2),zt=t=>y(t)&&!R(t)&&t[Symbol.toStringTag]===Gt,vn=t=>yt(document.createElementNS(bn,t)),ht=t=>x(t)?vn(t):y(t)&&t!==null?zt(t)?t:yt(t):t,Mn=t=>({content:Me,source:"outerHTML",parent:"parentElement",next:"nextElementSibling",previous:"previousElementSibling",add:Ce,addBefore:Bt})[t]||t,_n=t=>["append","before","after",Ce,Bt,Re].includes(t)?function(...e){let n=[],r=[],i=[];return t===Re?(n.push(e[0]),r.push(ht(e[1]))):t===Bt?(r.push(ht(e[0])),i.push(e[1]||this.firstChild||null)):r.push(...e.map(ht)),r.every(o=>o?._el)?(this[t](...n,...r.map(o=>o._el),...i),r.forEach(o=>o._el.dispatchEvent(new Event(ve))),r.length>1?r:r[0]):null}:null,mt=class{constructor(e){this._el=e,this.gSVG=G}get[Symbol.toStringTag](){return Gt}get el(){return this._el}attachTo(e){return(y(e)?zt(e)?e._el:e:document.querySelector(e)).appendChild(this._el),this._el.dispatchEvent(new Event(ve)),this}id(e){return e?(this._el.setAttribute("id",e),this):this._el.id||(this._el.id=Cn())}ref(){return`#${this.id()}`}url(){return`url(${this.ref()})`}parents(){let e=[],n=this;for(;n=n.parentElement();)e.push(n);return e}top(){return this.parents().pop()||this}},yt=t=>{if(!y(t)||R(t))return null;if(Vt.has(t))return Vt.get(t);let e=new Proxy(new mt(t),{get(n,r){if(Rn(r))return n[r];if(!E(n[r]))return(...c)=>(D(e,r,c),n[r].call(e,...c));if([Ft,Oe,"$"+Ft,"$"+Oe].includes(r)){let c="";r[0]==="$"&&(r=r.substring(1));let u=r===Ft?Ln:Pn,a=new Proxy(d=>(D(e,r,[d]),E(d)?t.getAttribute(r):(d?t.setAttribute(r,d):t.removeAttribute(r),e)),{get(d,f){return f in d?Reflect.get(d,f):(...T)=>{if(f===Symbol.toPrimitive){let I=c;return c="",I}return c+=u(e,f,T),t?.setAttribute(r,c),a}}});return a}let i=Mn(r),o=_n(i)||t[i];return h(o)?(...c)=>{D(e,r,c);let s=o.call(t,...c);return E(s)?e:Le(s)}:_e(t,i,e)}});return Vt.set(t,e),e},_e=(t,e,n,r)=>{let i=e.replace(/_/g,"-"),o=(...c)=>{if(D(n,r?`${r}.${e}`:e,c),c.length===0){let u=t?.hasAttribute&&t.hasAttribute(i)?t.getAttribute(i):t[i];return Le(u)}let s=c[0];if(ft(t,CSSStyleDeclaration))return t[i]=s,n;if(i in t&&!kt.has(i)){let u=t[i];if(String(u)===String(s))return n;try{t[i]=s}catch{kt.add(i)}if(y(t[i])&&t[i]===s||t[i]!==u||i===Me)return n;kt.add(i)}return s!==0&&!s?t?.removeAttribute&&t.removeAttribute(i):t?.setAttribute&&t.setAttribute(i,ue(s)?"":String(c)),n};return new Proxy(o,{get(c,s){let u=t[i][s];return h(u)?(...a)=>(D(n,`${e}.${s}`,a),u.call(t[i],...a)||n):_e(t[i],s,n,i)},set(c,s,u){return t[i][s]=u,!0}})},Le=t=>ft(t,HTMLCollection)||ft(t,NodeList)?[...t].map(e=>yt(e)):ft(t,SVGElement)?yt(t):x(t)?t===""||isNaN(t)?t:Number(t):t,Pe=[],D=(t,e,n,r=[])=>{for(let i of Pe)i(G,t,e,n,r)},dt={},Ln=(t,e,n)=>(D(t,`d.${e}`,n,Object.keys(dt).map(r=>`d.${r}`)),dt[e]?dt[e].apply(t,n):`${e}${n.join(st)}`),Pn=(t,e,n)=>(D(t,`transform.${e}`,n),`${e}(${n.join(st)})`);function G(t){return D(null,Y,[t]),ht(E(t)?On:t)}G.isWrapped=zt;var pt=t=>e=>h(e)?e(t):Object.assign(t,e),Ht={install:Ie,extendConstructor:pt(G),extendInstance:pt(mt.prototype),extendPath:pt(dt),beforeEveryCall(t){h(t)&&Pe.push(t)}};Ht.extendSetup=pt(Ht);function Ie(t){return t(Ht),G}G.install=Ie;var nt=G;var qt=new Map,In=/function\s+([\p{L}\p{Nl}$_][\p{L}\p{Nl}$_\p{Mn}\p{Mc}\p{Nd}\p{Pc}]*)\s*\(/gmu,Un=async function(){}.constructor;function Et(t,e,n=!1){let r=`${t.join(",")} ${e}`;if(qt.has(r))return qt.get(r);let i=new(n?Un:Function)(...t,e);return qt.set(r,i),i}function Ue(t,e){let n=[...e.matchAll(In)].map(i=>i[1]);return Et(Object.keys(t),`${e}; return {${n.map(i=>`${i}: typeof ${i} === 'function' ? ${i} : undefined`)}}; `)(...Object.values(t))}function Wt(t){try{return new Function(`let ${t} = 0`),!0}catch{return!1}}var Yt="animate",Dn="path",De="d",Fe="transform",Be="rotate",z="translate",Ve="inherit",ke="finished",Fn=[Be,"skewX","skewY"],Vn=[z,"width","height","x","y","cx","cy","r","rx","ry","dx","dy"],kn=(t,e)=>["text","tspan"].includes(t)&&["x","y"].includes(e),Xt=!1;if(window.matchMedia){let t=window.matchMedia("(prefers-reduced-motion: reduce)");Xt=t.matches,t.addEventListener("change",()=>{Xt=t.matches})}var Bn=t=>t.replace(/([A-Z])/g,"-$1").toLowerCase();function Hn(t,e={duration:200},n=null,r=null){let i=this.gSVG,o=l=>{let p=y(l)?{...l}:{duration:l};return Xt&&(p.duration=0),p.fill="none",p},c=l=>{l=P(l)?l:[l];let p=window.getComputedStyle(this._el),m=[],N=new Set;for(let C of l){let A={};for(let V in C){let b=ot(V);A[b]=f(C[V],b),!(b in p)||kn(this.tagName(),b)?N.add(b):b===De?A.d=`${Dn}("${A.d}")`:b===Fe&&(A.transform=a(A.transform))}m.push(A)}return u(N,m),m},s=[],u=(l,p)=>{if(l.size){let m=new KeyframeEffect(null,p).getKeyframes();for(let N of l){let C=i(Yt).attributeName(N).dur(j.duration+"ms").fill("freeze");if(p.length===1)C.to(p[0][N]);else{let A=[],V=[];for(let b in m){let tn=m[b];N in p[b]&&(A.push(tn.computedOffset),V.push(p[b][N]))}A[0]!==0&&(A.unshift(0),V.unshift(this[N]()||Ve)),A[A.length-1]!==1&&(A.push(1),V.push(this[N]()||Ve)),C.keyTimes(A.join(";")).values(V.join(";"))}s.push(C),C.attachTo(this),C.beginElementAt(j.delay||0)}}},a=l=>{x(l)&&(l=JSON.parse("{"+l.replace(/\s*\(\s*/g,":[").replace(/\s*\)\s*/g,"],").split(/\s*,\s*|\s.*/).join(",").replace(/(\w+):/g,'"$1":').replace(/,$/,"")+"}"));let p="";for(let m in l)if(m===Be){let N=d(l[m]);N.length>1&&(p+=`${z}(${f(N[1],z)},${f(N[2],z)}) `),p+=`${m}(${f(N[0],m)}) `,N.length>1&&(p+=`${z}(-${f(N[1],z)},-${f(N[2],z)}) `)}else p+=`${m}(${d(l[m]).map(N=>f(N,m)).join(",")}) `;return p},d=l=>P(l)?l:String(l).split(/\s+|,/),f=(l,p)=>Fn.includes(p)?l+"deg":Vn.includes(p)?l+"px":l,T=l=>x(l)?l.replace(/(deg)|(px)/g,"").trim():l,I=l=>l.replace(/(path\s*\(\s*["'])|(["']\s*\)\s*$)/g,"").trim().replace(/([a-zA-Z])\s*/g,"$1").replace(/\s+/g,","),Tt=l=>{let p=/translate\((.*)px,(.*)px\) rotate\((.*)deg\) translate\((.*)px,(.*)px\)\s+/,m=p.exec(l);return m&&Number(m[1])===Number(m[4])*-1&&Number(m[2])===Number(m[5])*-1?l=l.replace(p,`rotate(${m[3]}, ${m[1]}, ${m[2]})`):l=T(l),l},j=o(e),U=c(t),q=this._el.animate(U,j);return q.ready.then(()=>h(n)&&n.call(this,q)),q.finished.then(()=>{let l=U[U.length-1];for(let p in l){let m=Bn(p);m.startsWith("text-")?this._el.style[p]=l[p]:p!=="offset"&&p in l&&this._el.setAttribute(m,m===De?I(l[p]):m===Fe?Tt(l[p]):T(l[p]))}s.forEach(p=>{p[ke](!0);let m=this._el.querySelectorAll(Yt),N=this._el.querySelectorAll(`${Yt}[${ke}]`);m.length===N.length&&m.forEach(C=>C.remove())}),h(r)&&r.call(this,q)}),this}function Gn(t){t.extendInstance({animateTo:Hn})}var He=Gn;var Ge=Symbol(),qe=Symbol(),_=Symbol(),K=Symbol(),gt=Symbol(),Kt=Symbol(),ze=Symbol(),Jt="error",zn="unknown",Nt={},xt=(t,e)=>new Error(`The expression "${t}" return ${e} value`),qn=(t,e,n)=>{throw new Error(t+` in ${e} `+n)},Wn=(t=>e=>t[e]||e)("attributeName attributeType baseFrequency calcMode clipPathUnits diffuseConstant edgeMode gradientTransform gradientUnits kernelMatrix kernelUnitLength lengthAdjust limitingConeAngle markerHeight markerUnits markerWidth maskContentUnits maskUnits numOctaves pathLength patternContentUnits patternTransform patternUnits pointsAtX pointsAtY pointsAtZ preserveAlpha preserveAspectRatio primitiveUnits refX refY requiredExtensions requiredFeatures specularConstant specularExponent spreadMethod startOffset stdDeviation stitchTiles surfaceScale systemLanguage tableValues targetX targetY textLength viewBox xChannelSelector yChannelSelector zoomAndPan".split(" ").reduce((t,e)=>(t[e.toLowerCase()]=e,t),{}));function We(t){if(!t?.el?.parentNode)return null;let e=document.createComment(" ref ");return t.parentNode().insertBefore(e,t.el),t.remove(),e[Kt]=t,e}function Yn(t){let e=t[Kt];return t.parentNode.insertBefore(e.el,t),t.remove(),e}Z({name:"g-content",exec(t,{expr:e,data:n,evalExpr:r}){let i={...n,$$:{fromURL:async u=>{let a=await fetch(u);if(a.status===200)return a.text();console.warn(`Failed to load URL: ${u} (${a.status})`)},element:t,currentContent:t.content}},o=r(e,i),c=new CustomEvent("load",{bubbles:!0,detail:t}),s=u=>E(u)?"":u;y(o)&&o.then?o.then(u=>{t.content(s(u)),t.dispatchEvent(c)}):(t.content(s(o)),t.dispatchEvent(c))}});Z({name:"g-if",exec(t,{expr:e,data:n,evalExpr:r}){if(!r(e,n))return t[_]&&(t[_].forEach(i=>i.remove()),delete t[_]),We(t)}});Z({name:"g-bind",alias:":",arg:!0,exec(t,{expr:e,arg:n,data:r,evalExpr:i}){n=Wn(n);let o=t._el,c={...r,$$:["d","transform"].includes(n)?t["$"+n]:{}};Object.assign(c.$$,{get element(){return t},get attribute(){return n},currentValue(){return n==="class"?[...o.classList]:n==="style"?[...o.style].reduce((u,a)=>(u[a]=o.style[a],u),{}):t[n]()},dynamic(u,a=200,d=0){return t.animateTo((P(u)?u:[u]).map(f=>y(f)&&"offset"in f?{[n]:f.value,offset:f.offset}:{[n]:f}),{duration:a,delay:d}),ze}});let s=i(e,c);if(E(s))throw xt(e,"undefined");if(n==="class"){let u=f=>t.classList.add(f),a=f=>t.classList.remove(f),d=f=>Object.entries(f).forEach(([T,I])=>I?u(T):a(T));if(P(s)){s.forEach(f=>x(f)?u(f):y(f)?d(f):void 0);return}if(y(s)){d(s);return}s&&u(s);return}if(n==="style"){Object.entries(s).forEach(([u,a])=>t.style[u](a));return}s!==ze&&t[n](s)}});Z({name:"g-on",alias:"@",arg:!0,exec(t,{expr:e,arg:n,data:r,evalExpr:i,error:o,code:c}){t[gt]=t[gt]||{};let s=t[gt][n]=t[gt][n]||new Map;s.has(e)&&t.removeEventListener(n,s.get(e));let u=function(a){try{let d=i(e,r,t);h(d)&&d.call(t,a)}catch(d){o(d.message,{directive:"g-on",argument:n,expression:e,toString(){return`g-on:${n}="${e}"`}},c)}};t.addEventListener(n,u),s.set(e,u),n==="init"&&!t[Ge]&&(t[Ge]=!0,t.dispatchEvent(new Event("init")))}});Z({name:"g-for",tmpl:!0,exec(t,{expr:e,data:n,error:r}){t[_]=t[_]||[];let i=t.gSVG(We(t)),o=0;return Zn(e,n,c=>{if(t[_][o])rt(t[_][o],c,r,!1);else{let s=t.gSVG(t.tagName());s[K]=t[K].filter(u=>u.name!=="g-for"),[...t.attributes()].forEach(u=>{u.name!=="g-for"&&s.setAttribute(u.name,u.value)}),t.children().forEach(u=>{s.add(u.cloneNode(!0))}),i.before(s),rt(s,c,r),s[qe]=!0,t[_].push(s)}o++},c=>{for(;t[_].length>c.length;)t[_].pop().remove()}),!0}});function Z({name:t,alias:e,arg:n,tmpl:r,exec:i}){let o=`^(${t}${n?":":""}${e?`|${e})`:")"}${n?"(.*)$":"$"}`,c=new RegExp(o,"i");Nt[t]={name:t,alias:e,arg:n,tmpl:r,exec:i,check:c}}function Xn(t){for(let e in Nt){let n=Nt[e],r=n.check.exec(t);if(r){let i=r[2];return{...n,arg:i}}}}function Jn(t){return t.replace(/[{}()[\]]/g,"").split(",").map(e=>(e.includes(":")?e.split(":")[1].trim():e).trim())}function Kn(t,e){return t[Symbol.iterator]?e==="of"?{iterator:[...t],type:W}:{type:Jt}:oe(t)?{iterator:Array(t<0?0:0|t).fill(0).map((n,r)=>r+(e==="of"?0:1)),type:O}:y(t)?e==="in"?{iterator:Object.entries(t).map(n=>n.reverse()),type:$}:{type:Jt}:{iterator:t,type:zn}}function Ye(t,e,n=null){let r=Object.keys(e).filter(Wt),o=Et(r,`return ( ${t} ); `).apply(n,r.map(c=>e[c]));if(!it(o))throw xt(t,"NaN (Not a Number)");return o}function Zn(t,e,n,r){let i="__$$i",o="__$$c",c="__$$f",s=t.match(/^\s*([\s\S]+?)\s*(of|in)\s*([\s\S]+?)\s*$/);if(!s)throw xt(t,'an invalid "g-for" expression');let[,u,a,d]=s;u=u.trim(),d=d.trim();let f=Ye(d,e)||[],{iterator:T,type:I}=Kn(f,a);if(I===Jt)throw xt(t,'an invalid "g-for" expression');I===$&&!u.startsWith("[")&&(u=`[${u.replace(/(^\()|(\)$)/g,"")}]`);let Tt=Jn(u),j=u.startsWith("(")?u:`(${u})`,U=Object.keys(e).filter(Wt),q=` ${i}.forEach(${j} => { ${o}({${U}${U.length?",":""}${Tt.join(",")}}); }); ${c}(${i}); `;return Et([...U,i,o,c],q)(...U.map(p=>e[p]),T,n,r)}function rt(t,e,n,r=!0){if(r&&t[qe])return;let i=t.outerHTML();t[K]=t[K]||[];let o=t.attributes();for(let s of[...o]){let u=s.name,a=Xn(u);a&&(t[K].push({...a,expr:s.value}),t.removeAttribute(u))}let c=!1;for(let s of t[K]){c=s.tmpl||c;try{if(s.exec(t,{...s,data:e,evalExpr:Ye,error:n,code:i}))return}catch(u){n(u.message,{directive:s.name,argument:s.arg,expression:s.expr,toString(){return`${s.name}${s.arg?":"+s.arg:""}="${s.expr}"`}},i)}}if(!c)for(let s of t.childNodes())s.el[Kt]?rt(Yn(s.el),e,n):s.el?.nodeType===1&&rt(s,e,n)}function Qn(t={},e=qn){rt(this,t,e),this.dispatchEvent(new Event("render"))}function jn(){return this.outerHTML().replaceAll("<!-- ref -->","")}function tr(t){t.install(He),t.extendInstance({render:Qn,source:jn}),t.extendSetup({extendTemplate:{defineDirective:Z,getDirective(e){return Nt[e]}}})}var Xe=tr;var Je=t=>Math.round(t*1e4)/1e4;function Zt(t){return(t-90)*Math.PI/180}function $t(t,e,n,r){let i=Zt(r);return{x:Je(t+n*Math.cos(i)),y:Je(e+n*Math.sin(i))}}function St(t,e,n,r,i=0){i=Math.abs(i)>=360?i%360:i,r=Math.abs(r)>360?r%360:r,r=Math.abs(r)===360?r>0?359.9:-359.9:r;let o=i+r,c=r>0?1:0,s=Math.abs(o-i)<=180?0:1,u=i<0?(360+i)%360:i,a=o<0?(360+o)%360:o,d=$t(t,e,n,u),f=$t(t,e,n,a);return`M${d.x},${d.y}A${n},${n},0,${s},${c},${f.x},${f.y}`}function er(t,e,n,r,i,o=0){let c=St(t,e,n+r/2,i,o),s=St(t,e,n-r/2,-i,o+i);return c+"L"+s.substring(1)+"Z"}function nr(t,e,n,r,i=0){return`${St(t,e,n,r,i)}L${t},${e}Z`}function rr(t){t.extendConstructor({polar2cartesian:$t,degrees2radians:Zt}),t.extendComposer&&t.extendComposer({polar2cartesian:$t,degrees2radians:Zt}),t.extendPath({arc:St,barArc:er,circleSlice:nr})}var Ke=rr;var jt=Symbol(),Qt=Symbol(),Ze=(t,e,n)=>Object.defineProperty(t,e,{enumerable:!1,configurable:!0,writable:!0,value:n}),ir=(t,e)=>e===jt?t:me(t,e);function te(t={}){if(!y(t))return t;let e={};function n(r,i,o,c){r in t||(e[r]||(e[r]={}),Ze(t,r,(s=void 0,u=jt)=>{if(x(s)||E(s)){if(u=s||jt,u in e[r])return e[r][u];s=t}let a=s.reduce((d,f)=>{let T=ir(f,u);return E(T)?d:d===Qt?T:o(d,T)},h(i)?i():i);return a=h(c)?c(a):a,t!==s&&(e[r][u]=a),a===i?0:a}),Ze(t,r+"Before",(s,u)=>t[r](t.slice(0,s),u)))}return n("$min",Qt,(r,i)=>i>r?r:i),n("$max",Qt,(r,i)=>i<r?r:i),n("$count",0,r=>r+1),n("$sum",0,(r,i)=>i+r),n("$avg",()=>({n:0,i:0}),(r,i)=>(r.n++,r.i+=Number(i),r),r=>isNaN(r.i/r.n)?0:r.i/r.n),n("$distinct",new Set,(r,i)=>(r.add(i),r),r=>[...r]),t}var sr="composer",ee="update",Q="svg",ne="methods",re="config",ie="data",At="-src",Qe=t=>`script[type=${t}],g-script[type=${t}]`,je=["0px","auto"],or=t=>{let e=getComputedStyle(t.el);return je.includes(e.width)&&je.includes(e.height)},F=class extends M{static install(e){nt.install(e)}#t=null;#r=!1;#i=!1;#s=[];#e=[];#h=vt(function(e,n){this[S](e,n)},1);#n(e,n,r,i){let o={message:e,scope:n,code:r,toString:()=>`${e}${n?` in ${n}`:""} ${r}`};i.push(o),console.warn(`Graphane Composer - Error: ${o}`),this.#h.call(this,"error",this.errors)}#d(e){return e.length=0,(n,r="",i="")=>this.#n(n,r,i,this.#s)}async#c(e){let n=await fetch(e);if(n.status!==200)throw new Error(`${n.statusText} (${n.status}): ${n.url}`);return n.text()}async#p(){let e=[...this.querySelectorAll(Qe("plugin"))];for(let n of e){let r=n.getAttribute("src");if(r){let i=new URL(r,document.location.href);try{let o=await import(i.href);o?.default&&nt.install(o.default)}catch(o){this.#n(o.message,"plugin",r,this.#e)}}}}async#u(){let e=this[g];if(this.#t=null,e.content.innerHTML="",e.svgSrc)try{e.content.innerHTML=await this.#c(e.svgSrc)}catch(r){this.#n(r.message,Q,e.svgSrc,this.#e)}else{let r=this.querySelector("template")?.content||this.querySelector(Q);r&&e.content.append(r.cloneNode(!0))}let n=e.content.querySelector(Q);return this.#t=n?nt(n):null,!0}async#o(e,n){let r=this[g],i=e+"Src",o=this.querySelector(Qe(e));o&&(r[i]=o.getAttribute("src"));let c=r[i]?await this.#c(r[i]).catch(s=>this.#n(s.message,e,r[i],this.#e)):o?.textContent;if(c)try{r[e]=n(c)}catch(s){this.#n(s.message,e,c,this.#e)}}#a(){return this.#o(ne,e=>Ue({$:this},e))}#l(){return this.#o(re,bt)}#f(){return this.#o(ie,e=>le(e)||fe(e)?bt(e):he(e))}constructor(){super();let e=this[g];this.shadowRoot.innerHTML=` <style> :host { display : inline-block; width : max-content; height : max-content; } </style><span></span>`,e.content=this.shadowRoot.querySelector("span")}[w](){return!this.load()}async[H](e){let n=[];for(let r of e){let i=r.target;if(i===this&&!r.attributeName)return this.load();if(i.tagName.toLowerCase()===Q)n.push(this.#u());else if(i.tagName==="SCRIPT"){let o={data:this.#f,methods:this.#a,config:this.#l}[i.type.toLowerCase()];o&&n.push(o())}}if(n.length)return await Promise.all(n),this.update()}async load(){return this.#r=!1,this.#e=[],await this.#p(),await Promise.all([this.#u(),this.#l(),this.#a(),this.#f()]),this.#r=!0,this[S]("load"),this.update(!0)}async update(e=!1){if(!(this.#i&&!e)&&this.#t){this.rendered=!1,this.#i=!0;let n=this[g],r=n.methods?.data?n.methods.data(te(B(n.data))):te(B(n.data)),i={...n.methods,...P(r)?{}:r,data:r,$:this};await this.#t.render(i,this.#d(this.#s)),or(this.#t)&&this.#t.width("100%").height("100%"),this.#i=!1,this.rendered=!0}}get[Q](){return this.#t}get loaded(){return this.#r}get errors(){return[...this.#e,...this.#s]}get version(){return"1.0.0-beta.8"}};F.prototype.update=vt(F.prototype.update,1);Se(F).ext(be).attr({name:Q+At,type:v,value:"",posUpdate:w}).attr({name:ie,type:$,value:[],posUpdate:ee}).attr({name:ie+At,type:v,posUpdate:w}).prop({name:ne,type:$,value:{},posUpdate:ee}).attr({name:ne+At,type:v,posUpdate:w}).attr({name:re,type:$,value:{},posUpdate:ee}).attr({name:re+At,type:v,posUpdate:w}).attr({name:"value",set(t){this.data={value:t}},get(){return this.data?.value}}).tag(sr);var cr=t=>{t.extendSetup({extendComposer(e){h(e)?e(F.prototype):Object.assign(F.prototype,e)}})};nt.install(cr).install(Xe).install(Ke);})();