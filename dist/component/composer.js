/* graphane - 1.0.0-beta.4 */ (()=>{var Ge="function",Kt="undefined",$="object",C="string",W="array",R="number",U="boolean",ze="date",qe="symbol",D="",rt=",";var We=";",m=t=>typeof t===$,x=t=>typeof t===C,h=t=>typeof t===Ge,Zt=t=>typeof t===R&&!isNaN(t),y=t=>typeof t===Kt,Qt=t=>typeof t===qe,jt=t=>typeof t===U,_=t=>Array.isArray(t),$t=t=>t instanceof Date&&!isNaN(t),T=t=>t===null,it=t=>t.replace(/-([a-z0-9])/g,(e,n)=>n.toUpperCase());function Ye(t){if(x(t))try{let e=t.replace(/^\s*{/,"").replace(/}\s*$/,"").split(/((?:[^;^,"']|"[^"]*"|'[^']*')+)/).filter(n=>!["",";",","].includes(n.trim())).map(n=>n.split(":")).map(n=>`"${n[0].trim()}":${L(n[1].trim(),void 0,!0)}`).join(",");return JSON.parse(`{${e}}`)}catch{try{return L(t)}catch(n){console.error(n);return}}else if(m(t))return t}function te(t){if(x(t))return t.trim().startsWith("[")?(t.match(/\[(.*?)[^\]]]/g)||[]).map(e=>te(e.substring(1,e.length-1))):t.split(/[,;]/).map(e=>L(e.trim()));if(_(t))return t}function L(t,e,n=!1){if(!x(t))return t;if(t=Xe(t.trim()),e===W)return te(t);if(e===$)return Ye(t);if(y(e)||e===R){if(y(t)||t==="")return;let r=+t;if(!Number.isNaN(r)||e===R)return r}if(y(e)||e===U){if(t==="true")return!0;if(t==="false")return!1;if(e===U)return t==="0"?!1:!!t}if(e===ze){try{let r=new Date(t);if(!Number.isNaN(r.getTime()))return r}catch{}return}if(y(e)||e===C)return n?`"${t}"`:t}function Xe(t){return t[0]==="'"&&t[t.length-1]==="'"||t[0]==='"'&&t[t.length-1]==='"'?t.substring(1,t.length-1):t}function ee(t){return/^\s*{/.test(t)&&/}\s*$/.test(t)}function ne(t){return/^\s*\[/.test(t)&&/]\s*$/.test(t)}function re(t){let e=[],n=t.split(/(\r\n|\r|\n)/).map(r=>r.trim()).filter(r=>r);return n.length===0?[]:n.length===1?L(n[0]):n.reduce((r,i,c)=>{let o={},s=i.split(/((?:[^;^,"']|"[^"]*"|'[^']*')+)/).filter(u=>![D,We,rt].includes(u.trim()));return c===0?(e=[...s.map(u=>L(u))],r):(s.forEach((u,f)=>{o[e[f]]=L(u)}),r.push(o),r)},[])}function St(t){let e=`return (${t});`,n=new Function(e)();return typeof n=="function"?n():n}var ie=new WeakSet,Q=!1,At=(t,e)=>!m(t)||T(t)||!h(e)?t:function n(r){if(ie.has(r))return r;for(let c in r)m(r[c])&&!T(r[c])&&(r[c]=n(r[c]));let i=new Proxy(r,{get(c,o){let s=Reflect.get(r,o);return h(s)&&$t(c)&&x(o)&&o.substring(0,3)==="set"&&h(e)&&(s=function(...u){let f=Reflect.get(c,o).apply(c,u);return!Q&&e(t),f}),$t(c)?s.bind(c):s},set(c,o,s){let u,f=c[o]===s;return m(s)&&!T(s)?u=Reflect.set(c,o,n(s)):u=Reflect.set(c,o,s),!Q&&!f&&e(t),u},deleteProperty(c,o){let s=Reflect.deleteProperty(c,o);return!Q&&e(t),s}});return ie.add(i),i}(t);At.stop=()=>Q=!0;At.start=()=>Q=!1;var st=At;var j=!1,ot=!0;function Je(t){return t===null?null:t.constructor?new t.constructor:{}}function F(t){if(!m(t))return t;let e=t===null?null:Object.assign(Je(t),t);for(let n in e)m(e[n])&&(e[n]=F(e[n]));return e}function se(t,e){let n=[],r=[];function i(o,s){if(o===null||s===null)return j;if(h(o.valueOf)&&h(s.valueOf)&&(o!==o.valueOf()||s!==s.valueOf()))return o.valueOf()===s.valueOf()&&o.constructor===s.constructor;if(n.indexOf(o)>-1&&r.indexOf(s)>-1)return ot;let u=Object.keys(o),f=Object.keys(s);if(u.length!==f.length)return j;if(u.length>0){n.push(o),r.push(s);let d=u.length;for(;d--;){let N=u[d];if(!c(o[N],s[N]))return j}}return ot}function c(o,s){if(o===s)return ot;let u=typeof o;return u!==typeof s?j:u===R&&isNaN(o)&&isNaN(s)?ot:u===$?i(o,s):j}return c(t,e)}function oe(t,e){let n=t,r=x(e)?e.split("."):e;for(let i=0;i<r.length;i++){if(y(n[r[i]]))return;n=n[r[i]]}return n}var wt=globalThis.GRAPHANE_PREFIX||"g-",Ke=Symbol(),g=Symbol(),k=Symbol(),A=Symbol(),Tt=Object.defineProperty;function Ze(t,e,n,r=!1){if(!(t.ready===!1||!e))if(r)n?t.setAttribute(e,D):t.removeAttribute(e);else{let i=T(n)||y(n)?D:n.toString();t.hasAttribute(e)&&t.getAttribute(e)!==i&&t.setAttribute(e,i)}}function Qe(t){this[g]={};let e=t;do{let n=ct.get(e);for(let r in n)if(n.hasOwnProperty(r)&&this.hasOwnProperty(r)){let i=this[r];delete this[r],this[r]=y(i)?F(n[r]):i}else r in this[g]||(this[g][r]=F(n[r]));e=Object.getPrototypeOf(e)}while(e!==HTMLElement)}function je(){new MutationObserver(t=>{t.some(e=>!e.attributeName)&&this[A]("update"),(y(this.ready)||this.ready)&&h(this[k])&&this[k](t)}).observe(this,{attributes:!0,childList:!0,subtree:!0,characterData:!0})}var ct=new WeakMap,ut=class extends HTMLElement{constructor(){super(),Qe.call(this,new.target),new.target[Ke]?.forEach(e=>h(e)&&e.call(this,this)),h(this[k])&&je.call(this)}[A](e,n={},r=!1){return this.dispatchEvent(new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n,composed:r}))}};function tn(t,e){e.propertyName||(e.propertyName=it(e.name)),ce(t,{...e,name:e.propertyName,attribute:e.name});let n=Object.getPrototypeOf(t),r="observedAttributes",i=Object.getOwnPropertyDescriptor(t,r),c=Object.getOwnPropertyDescriptor(n,r),o=i?i.get:void 0;Tt(t,r,nn(t,e,n,o,i,c));let s="attributeChangedCallback",u=Object.getOwnPropertyDescriptor(t.prototype,s),f=Object.getOwnPropertyDescriptor(n.prototype,s),d=u?u.value:void 0;Tt(t.prototype,s,en(e,d,f))}function en(t,e,n){return{value:function(r,i,c){if(t.name===r){let o=t.propertyName;this[o]!==c&&(t.type===U?this[o]=this.hasAttribute(t.name):this[o]=L(c,t.type))}else e&&e.apply(this,arguments);n?.value&&n.value.apply(this,arguments)},enumerable:!1,writable:!0,configurable:!0}}function nn(t,e,n,r,i,c){let o={enumerable:!1,configurable:!0};return i?c?o.get=function(){return[e.name,...r.call(t),...c.get.call(n)]}:o.get=function(){return[e.name,...r.call(t)]}:o.get=c?function(){return[e.name,...c.get.call(n)]}:function(){return[e.name]},o}function ce(t,e){Tt(t.prototype,e.name,{set:ue(e),get:sn(e),configurable:!0,enumerable:!1}),ct.has(t)||ct.set(t,{}),ct.get(t)[e.name]=e.value}function rn(t,e){T(t.posUpdateEvent)||(t.posUpdateEvent?this[A](t.posUpdateEvent,{[t.name]:e}):this[A]("update",{[t.name]:e})),h(t.posUpdate)?t.posUpdate.call(this,e):h(this[t.posUpdate])&&this[t.posUpdate]()}function ue(t){return function(e){let n=this[g];h(t.preUpdate)&&!t.preUpdate.call(this,e)||(t.schema&&(st.stop(),e=t.schema.normalize(e),st.start()),!(!m(e)&&se(n[t.name],e))&&(h(t.set)?t.set.call(this,e):n[t.name]=x(e)&&t.type?L(e,t.type):e,t.attribute&&![W,$].includes(t.type)&&Ze(this,t.attribute,e,t.type===U),rn.call(this,t,e)))}}function sn(t){return function(){if(h(t.get))return t.get.call(this);{let e=this[g];switch(t.type){case R:return y(e[t.name])?void 0:Number(e[t.name]);case U:return!!e[t.name];case $:case W:return st(e[t.name]||(t.type===$?{}:[]),n=>ue(t).call(this,n));default:return e[t.name]}}}}function on(t,e){e=wt+e.toLowerCase(),customElements.get(e)||customElements.define(e,t)}function ae(t,e={}){return e.prop=(...n)=>(n.forEach(r=>ce(t,{...r})),e),e.attr=(...n)=>(n.forEach(r=>tn(t,{...r})),e),e.tag=n=>(on(t,n),e),e.extension=e.ext=n=>(n.call(e,e,t),e),e}function fe(t,e){let n=new WeakMap;return function(...r){clearTimeout(n.get(this)),n.set(this,setTimeout(()=>{t.apply(this,r)},e))}}function bt(t,e){let n=new WeakMap,r=[];return function(...i){return clearTimeout(n.get(this)),new Promise((c,o)=>{r.push({resolve:c,reject:o}),n.set(this,setTimeout(()=>{try{let s=t.apply(this,i);r.forEach(u=>u.resolve(s))}catch(s){r.forEach(u=>u.reject(s))}finally{r.length=0}},e))})}}function Rt(t,e){return function(...n){if(t.apply(this,n))return e.apply(this,n)}}function Ot(t,e){return function(...n){let r=t.apply(this,n);return r instanceof Promise?r.then(i=>e.call(this,i)||i):e.call(this,r)||r}}var le=1,Y=Symbol(),w=Symbol(),he=Symbol(),vt=Symbol();var V=class extends ut{constructor(e){super(),this.attachShadow({mode:"open"}),this[g].ready=e||!1,this[g].rendered=!1,y(e)&&(this.ready=!0)}get ready(){return this[g].ready}set ready(e){let n=this[g],r=n.ready;n.ready=!!e,r===!1&&n.ready===!0&&(this[A]("ready",{ready:!0}),h(this[w])&&this[w]())}get rendered(){return this[g].rendered}set rendered(e){let n=this[g],r=n.rendered;n.rendered=!!e,r===!1&&n.rendered===!0&&this[A]("render",{rendered:!0})}connectedCallback(){let e=this.getBoundingClientRect(),n=getComputedStyle(this).flexDirection,r=()=>{let{width:i,height:c}=this.getBoundingClientRect(),o=getComputedStyle(this).flexDirection;(i!==e.width||c!==e.height||o!==n)&&(h(this[he])&&this[he](i,c,i-e.width,c-e.height),e={width:i,height:c},n=o,this[A]("resize",e)),this[g]._resizeObserver=window.requestAnimationFrame(r)};r()}disconnectedCallback(){window.cancelAnimationFrame(this[g]._resizeObserver)}};function cn(t,e){let n={name:e.name.startsWith("--")?e.name:`--${wt}${e.name}`,initialValue:e.initialValue??e.value??"",syntax:e.syntax??"*",inherits:e.inherits??!0};t.prototype[vt]||(t.prototype[vt]={}),t.prototype[vt][n.name]=n}function un(t){if(h(t.prototype[w])){let e=t.prototype[w];t.prototype[w]=Rt(function(){return this.rendered=!1,this.ready},bt(Ot(async function(){return e.apply(this)},function(n){this.rendered=n!==!1,this.rendered&&h(this[Y])&&this[Y]()}),le))}if(h(t.prototype[Y])){let e=t.prototype[Y];t.prototype[Y]=Rt(function(n){return n&&(this[g].rendered=!0),this.ready&&this[g].rendered},bt(Ot(async function(...n){return e.apply(this,n)},function(){this[A]("refresh")}),le))}}function de(t){un(t);let e=ae(t,{style:(...n)=>(n.forEach(r=>cn(t,{...r})),e)});return e}V.RENDER=w;V.REFRESH=Y;V.CHANGE=k;var an="intersection.enter",fn="intersection.exit",at=Symbol(),ln={root:null,rootMargin:"0px",threshold:Array(21).fill(0).map((t,e)=>e*.05)};function hn(t){let e=!1;this[at]&&this[at].disconnect(),this[at]=new IntersectionObserver(n=>{n.forEach(r=>{r.isIntersecting&&r.intersectionRatio>=t?e||(e=!0,this.dispatchEvent(new CustomEvent(an,{bubbles:!0,cancelable:!0,composed:!0}))):(e=!1,this.dispatchEvent(new CustomEvent(fn,{bubbles:!0,cancelable:!0,composed:!0})))})},ln),this[at].observe(this._el||this)}var Ct=hn;var pe=Symbol();function dn(t){t.attr({name:"intersection-once-class",type:C,value:""}).attr({name:"intersection-class",type:C,value:""}).attr({name:"intersection-ratio",type:R,value:0,posUpdate:mn})}var me=(t,e)=>e&&e.split(/\s+/).forEach(n=>t.add(n)),pn=(t,e)=>e&&e.split(/\s+/).forEach(n=>t.remove(n)),ye=(t,e)=>{e.preventDefault();let n=()=>{t.removeEventListener("render",n),t[A](e.type,e.detail,e.composed)};t.addEventListener("render",n)};function mn(){let t=this[g];if(this[pe])return Ct.call(this,t.intersectionRatio);this[pe]=!0;let e=this.classList;this.addEventListener("intersection.enter",n=>{me(e,t.intersectionOnceClass),me(e,t.intersectionClass),this.rendered||ye(this,n)}),this.addEventListener("intersection.exit",n=>{pn(e,t.intersectionClass),this.rendered||ye(this,n)}),Ct.call(this,t.intersectionRatio)}var ge=dn;var Ut="gSVGObject",yn="http://www.w3.org/2000/svg",gn="svg",Lt="d",Ee="transform",xe="appendChild",Pt="insertBefore",Ne="insertAdjacentElement",$e="attach",Se="innerHTML",_t=new WeakMap,Mt=new Set,En=t=>Qt(t)||t.startsWith("_")||["el","gSVG","then"].includes(t),ft=(t,e)=>t instanceof e,Nn=()=>Ut+Math.random().toString(32).substring(2),Dt=t=>m(t)&&!T(t)&&t[Symbol.toStringTag]===Ut,xn=t=>mt(document.createElementNS(yn,t)),lt=t=>x(t)?xn(t):m(t)&&t!==null?Dt(t)?t:mt(t):t,$n=t=>({content:Se,source:"outerHTML",parent:"parentElement",next:"nextElementSibling",previous:"previousElementSibling",add:xe,addBefore:Pt})[t]||t,Sn=t=>["append","before","after",xe,Pt,Ne].includes(t)?function(...e){let n=[],r=[],i=[];return t===Ne?(n.push(e[0]),r.push(lt(e[1]))):t===Pt?(r.push(lt(e[0])),i.push(e[1]||this.firstChild||null)):r.push(...e.map(lt)),r.every(c=>c?._el)?(this[t](...n,...r.map(c=>c._el),...i),r.forEach(c=>c._el.dispatchEvent(new Event($e))),r.length>1?r:r[0]):null}:null,pt=class{constructor(e){this._el=e,this.gSVG=H}get[Symbol.toStringTag](){return Ut}get el(){return this._el}attachTo(e){return(m(e)?Dt(e)?e._el:e:document.querySelector(e)).appendChild(this._el),this._el.dispatchEvent(new Event($e)),this}id(e){return e?(this._el.setAttribute("id",e),this):this._el.id||(this._el.id=Nn())}ref(){return`#${this.id()}`}url(){return`url(${this.ref()})`}parents(){let e=[],n=this;for(;n=n.parentElement();)e.push(n);return e}top(){return this.parents().pop()||this}},mt=t=>{if(!m(t)||T(t))return null;if(_t.has(t))return _t.get(t);let e=new Proxy(new pt(t),{get(n,r){if(En(r))return n[r];if(!y(n[r]))return(...o)=>(M(e,r,o),n[r].call(e,...o));if([Lt,Ee,"$"+Lt,"$"+Ee].includes(r)){let o="";r[0]==="$"&&(r=r.substring(1));let u=r===Lt?An:Tn,f=new Proxy(d=>(M(e,r,[d]),y(d)?t.getAttribute(r):(d?t.setAttribute(r,d):t.removeAttribute(r),e)),{get(d,N){return N in d?Reflect.get(d,N):(...O)=>{if(N===Symbol.toPrimitive){let K=o;return o="",K}return o+=u(e,N,O),t?.setAttribute(r,o),f}}});return f}let i=$n(r),c=Sn(i)||t[i];return h(c)?(...o)=>{M(e,r,o);let s=c.call(t,...o);return y(s)?e:Te(s)}:Ae(t,i,e)}});return _t.set(t,e),e},Ae=(t,e,n,r)=>{let i=e.replace(/_/g,"-"),c=(...o)=>{if(M(n,r?`${r}.${e}`:e,o),o.length===0){let u=t?.hasAttribute&&t.hasAttribute(i)?t.getAttribute(i):t[i];return Te(u)}let s=o[0];if(ft(t,CSSStyleDeclaration))return t[i]=s,n;if(i in t&&!Mt.has(i)){let u=t[i];if(String(u)===String(s))return n;try{t[i]=s}catch{Mt.add(i)}if(m(t[i])&&t[i]===s||t[i]!==u||i===Se)return n;Mt.add(i)}return s!==0&&!s?t?.removeAttribute&&t.removeAttribute(i):t?.setAttribute&&t.setAttribute(i,jt(s)?"":String(o)),n};return new Proxy(c,{get(o,s){let u=t[i][s];return h(u)?(...f)=>(M(n,`${e}.${s}`,f),u.call(t[i],...f)||n):Ae(t[i],s,n,i)},set(o,s,u){return t[i][s]=u,!0}})},Te=t=>ft(t,HTMLCollection)||ft(t,NodeList)?[...t].map(e=>mt(e)):ft(t,SVGElement)?mt(t):x(t)?t===""||Number.isNaN(Number(t))?t:Number(t):t,we=[],M=(t,e,n,r=[])=>{for(let i of we)i(H,t,e,n,r)},ht={},An=(t,e,n)=>(M(t,`d.${e}`,n,Object.keys(ht).map(r=>`d.${r}`)),ht[e]?ht[e].apply(t,n):`${e}${n.join(rt)}`),Tn=(t,e,n)=>(M(t,`transform.${e}`,n),`${e}(${n.join(rt)})`);function H(t){return M(null,D,[t]),lt(y(t)?gn:t)}H.isWrapped=Dt;var dt=t=>e=>h(e)?e(t):Object.assign(t,e),It={install:be,extendConstructor:dt(H),extendInstance:dt(pt.prototype),extendPath:dt(ht),beforeEveryCall(t){h(t)&&we.push(t)}};It.extendSetup=dt(It);function be(t){return t(It),H}H.install=be;var tt=H;var Ft=new Map,wn=/function\s+([\p{L}\p{Nl}$_][\p{L}\p{Nl}$_\p{Mn}\p{Mc}\p{Nd}\p{Pc}]*)\s*\(/gmu,bn=async function(){}.constructor;function yt(t,e,n=!1){let r=`${t.join(",")} ${e}`;if(Ft.has(r))return Ft.get(r);let i=new(n?bn:Function)(...t,e);return Ft.set(r,i),i}function Re(t,e){let n=[...e.matchAll(wn)].map(i=>i[1]);return yt(Object.keys(t),`${e}; return {${n.map(i=>`${i}: typeof ${i} === 'function' ? ${i} : undefined`)}}; `)(...Object.values(t))}function kt(t){try{return new Function(`let ${t} = 0`),!0}catch{return!1}}var Vt="animate",Rn="path",Oe="d",ve="transform",_e="rotate",B="translate",Ce="inherit",Le="finished",On=[_e,"skewX","skewY"],vn=[B,"width","height","x","y","cx","cy","r","rx","ry","dx","dy"],Cn=(t,e)=>["text","tspan"].includes(t)&&["x","y"].includes(e),Ht=!1;if(window.matchMedia){let t=window.matchMedia("(prefers-reduced-motion: reduce)");Ht=t.matches,t.addEventListener("change",()=>{Ht=t.matches})}var Ln=t=>t.replace(/([A-Z])/g,"-$1").toLowerCase();function _n(t,e={duration:200},n=null,r=null){let i=this.gSVG,c=a=>{let l=m(a)?{...a}:{duration:a};return Ht&&(l.duration=0),l.fill="none",l},o=a=>{a=_(a)?a:[a];let l=window.getComputedStyle(this._el),p=[],E=new Set;for(let v of a){let S={};for(let I in v){let b=it(I);S[b]=N(v[I],b),!(b in l)||Cn(this.tagName(),b)?E.add(b):b===Oe?S.d=`${Rn}("${S.d}")`:b===ve&&(S.transform=f(S.transform))}p.push(S)}return u(E,p),p},s=[],u=(a,l)=>{if(a.size){let p=new KeyframeEffect(null,l).getKeyframes();for(let E of a){let v=i(Vt).attributeName(E).dur(Z.duration+"ms").fill("freeze");if(l.length===1)v.to(l[0][E]);else{let S=[],I=[];for(let b in p){let Be=p[b];E in l[b]&&(S.push(Be.computedOffset),I.push(l[b][E]))}S[0]!==0&&(S.unshift(0),I.unshift(this[E]()||Ce)),S[S.length-1]!==1&&(S.push(1),I.push(this[E]()||Ce)),v.keyTimes(S.join(";")).values(I.join(";"))}s.push(v),v.attachTo(this),v.beginElementAt(Z.delay||0)}}},f=a=>{x(a)&&(a=JSON.parse("{"+a.replace(/\s*\(\s*/g,":[").replace(/\s*\)\s*/g,"],").split(/\s*,\s*|\s.*/).join(",").replace(/(\w+):/g,'"$1":').replace(/,$/,"")+"}"));let l="";for(let p in a)if(p===_e){let E=d(a[p]);E.length>1&&(l+=`${B}(${N(E[1],B)},${N(E[2],B)}) `),l+=`${p}(${N(E[0],p)}) `,E.length>1&&(l+=`${B}(-${N(E[1],B)},-${N(E[2],B)}) `)}else l+=`${p}(${d(a[p]).map(E=>N(E,p)).join(",")}) `;return l},d=a=>_(a)?a:String(a).split(/\s+|,/),N=(a,l)=>On.includes(l)?a+"deg":vn.includes(l)?a+"px":a,O=a=>x(a)?a.replace(/(deg)|(px)/g,"").trim():a,K=a=>a.replace(/(path\s*\(\s*["'])|(["']\s*\)\s*$)/g,"").trim().replace(/([a-zA-Z])\s*/g,"$1").replace(/\s+/g,","),z=a=>{let l=/translate\((.*)px,(.*)px\) rotate\((.*)deg\) translate\((.*)px,(.*)px\)\s+/,p=l.exec(a);return p&&Number(p[1])===Number(p[4])*-1&&Number(p[2])===Number(p[5])*-1?a=a.replace(l,`rotate(${p[3]}, ${p[1]}, ${p[2]})`):a=O(a),a},Z=c(e),nt=o(t),q=this._el.animate(nt,Z);return q.ready.then(()=>h(n)&&n.call(this,q)),q.finished.then(()=>{let a=nt[nt.length-1];for(let l in a){let p=Ln(l);p.startsWith("text-")?this._el.style[l]=a[l]:l!=="offset"&&l in a&&this._el.setAttribute(p,p===Oe?K(a[l]):p===ve?z(a[l]):O(a[l]))}s.forEach(l=>{l[Le](!0);let p=this._el.querySelectorAll(Vt),E=this._el.querySelectorAll(`${Vt}[${Le}]`);p.length===E.length&&p.forEach(v=>v.remove())}),h(r)&&r.call(this,q)}),this}function Mn(t){t.extendInstance({animateTo:_n})}var Me=Mn;var Pe=Symbol(),Ue=Symbol(),G=Symbol(),gt=Symbol(),Et=Symbol(),Bt=Symbol(),Ie=Symbol(),Pn="unknown",Nt={},De=(t,e)=>new Error(`The expression "${t}" return ${e} value`),In=(t,e,n)=>{throw new Error(t+` in ${e} `+n)},Un=(t=>e=>t[e]||e)("attributeName attributeType baseFrequency calcMode clipPathUnits diffuseConstant edgeMode gradientTransform gradientUnits kernelMatrix kernelUnitLength lengthAdjust limitingConeAngle markerHeight markerUnits markerWidth maskContentUnits maskUnits numOctaves pathLength patternContentUnits patternTransform patternUnits pointsAtX pointsAtY pointsAtZ preserveAlpha preserveAspectRatio primitiveUnits refX refY requiredExtensions requiredFeatures specularConstant specularExponent spreadMethod startOffset stdDeviation stitchTiles surfaceScale systemLanguage tableValues targetX targetY textLength viewBox xChannelSelector yChannelSelector zoomAndPan".split(" ").reduce((t,e)=>(t[e.toLowerCase()]=e,t),{}));function Fe(t){if(!t?.el?.parentNode)return;let e=document.createComment(" ref ");t.parentNode().insertBefore(e,t.el),t.remove(),e[Bt]=t}function Dn(t){let e=t[Bt];return t.parentNode.insertBefore(e.el,t),t.remove(),e}X({name:"g-content",exec(t,{expr:e,data:n,evalExpr:r}){let i={...n,$$:{fromURL:async u=>{let f=await fetch(u);if(f.status===200)return f.text();console.warn(`Failed to load URL: ${u} (${f.status})`)},currentContent:t.content}},c=r(e,i),o=new CustomEvent("load",{bubbles:!0,detail:t}),s=u=>y(u)?"":u;typeof c=="object"&&c.then?c.then(u=>{t.content(s(u)),t.dispatchEvent(o)}):(t.content(s(c)),t.dispatchEvent(o))}});X({name:"g-if",exec(t,{expr:e,data:n,evalExpr:r}){r(e,n)||Fe(t)}});X({name:"g-bind",alias:":",arg:!0,exec(t,{expr:e,arg:n,data:r,evalExpr:i}){n=Un(n);let c={...r,$$:["d","transform"].includes(n)?t["$"+n]:{}};c.$$.currentValue=t[n],c.$$.dynamic=(s,u=200,f=0)=>(t.animateTo((_(s)?s:[s]).map(d=>m(d)&&"offset"in d?{[n]:d.value,offset:d.offset}:{[n]:d}),{duration:u,delay:f}),Ie);let o=i(e,c);if(y(o))throw De(e,"undefined");if(n==="class"){if(_(o)){t.classList.add(...o.filter(s=>!!s));return}if(m(o)){Object.entries(o).forEach(([s,u])=>{u?t.classList.add(s):t.classList.remove(s)});return}o&&t.classList.add(o);return}if(n==="style"){Object.entries(o).forEach(([s,u])=>t.style[s](u));return}o!==Ie&&t[n](o)}});X({name:"g-on",alias:"@",arg:!0,exec(t,{expr:e,arg:n,data:r,evalExpr:i,error:c,code:o}){t[Et]=t[Et]||{};let s=t[Et][n]=t[Et][n]||new Map;s.has(e)&&t.removeEventListener(n,s.get(e));let u=function(f){try{let d=i(e,r,t);h(d)&&d.call(t,f)}catch(d){c(d.message,{directive:"g-on",argument:n,expression:e,toString(){return`g-on:${n}="${e}"`}},o)}};t.addEventListener(n,u),s.set(e,u),n==="init"&&!t[Pe]&&(t[Pe]=!0,t.dispatchEvent(new Event("init")))}});X({name:"g-for",tmpl:!0,exec(t,{expr:e,data:n,error:r}){t[G]=t[G]||[];let i=0;Hn(e,n,c=>{if(t[G][i])et(t[G][i],c,r,!1);else{let o=t.gSVG("g");t.children().forEach(s=>{o.add(s.cloneNode(!0))}),et(o,c,r),t.before(o.el),o[Ue]=!0,t[G].push(o)}i++},c=>{for(;t[G].length>c.length;)t[G].pop().remove()}),Fe(t)}});function X({name:t,alias:e,arg:n,tmpl:r,exec:i}){let c=`^(${t}${n?":":""}${e?`|${e})`:")"}${n?"(.*)$":"$"}`,o=new RegExp(c,"i");Nt[t]={name:t,alias:e,arg:n,tmpl:r,exec:i,check:o}}function Fn(t){for(let e in Nt){let n=Nt[e],r=n.check.exec(t);if(r){let i=r[2];return{...n,arg:i}}}}function kn(t){return t.replace(/[{}()[\]]/g,"").split(",").map(e=>(e.includes(":")?e.split(":")[1].trim():e).trim())}function Vn(t){return t[Symbol.iterator]?{iterator:[...t],type:W}:Zt(t)?{iterator:Array(t<0?0:0|t).fill(0).map((e,n)=>n),type:R}:m(t)?{iterator:Object.entries(t).map(e=>e.reverse()),type:$}:{iterator:t,type:Pn}}function ke(t,e,n=null){let r=Object.keys(e).filter(kt),c=yt(r,`return ( ${t} ); `).apply(n,r.map(o=>e[o]));if(Number.isNaN(c))throw De(t,"NaN (Not a Number)");return c}function Hn(t,e,n,r){let i="__$$iterator",c="__$$callback",o="__$$final",[s,u]=t.split(" of ");s=s.trim(),u=u.trim();let f=ke(u,e)||[],{iterator:d,type:N}=Vn(f);N===$&&!s.startsWith("[")&&(s=`[${s.replace(/(^\()|(\)$)/g,"")}]`);let O=kn(s),K=s.startsWith("(")?s:`(${s})`,z=Object.keys(e).filter(kt),Z=` ${i}.forEach(${K} => { ${c}({${z}${z.length?",":""}${O.join(",")}}); }); ${o}(${i}); `;return yt([...z,i,c,o],Z)(...z.map(q=>e[q]),d,n,r)}function et(t,e,n,r=!0){if(r&&t[Ue])return;let i=t.outerHTML();t[gt]=t[gt]||[];let c=t.attributes();for(let s of[...c]){let u=s.name,f=Fn(u);f&&(t[gt].push({...f,expr:s.value}),t.removeAttribute(u))}let o=!1;for(let s of t[gt]){try{s.exec(t,{...s,data:e,evalExpr:ke,error:n,code:i})}catch(u){n(u.message,{directive:s.name,argument:s.arg,expression:s.expr,toString(){return`${s.name}${s.arg?":"+s.arg:""}="${s.expr}"`}},i)}o=s.tmpl||o}if(!o)for(let s of t.childNodes())s.el[Bt]?et(Dn(s.el),e,n):s.el?.nodeType===1&&et(s,e,n)}function Bn(t={},e=In){et(this,t,e),this.dispatchEvent(new Event("render"))}function Gn(){return this.outerHTML().replaceAll("<!-- ref -->","")}function zn(t){t.install(Me),t.extendInstance({render:Bn,source:Gn}),t.extendSetup({extendTemplate:{defineDirective:X,getDirective(e){return Nt[e]}}})}var Ve=zn;var zt=Symbol(),Gt=Symbol();function qn(t,e){return e===zt?t:oe(t,e)}function qt(t={}){if(!m(t))return t;let e={};function n(r,i,c,o){r in t||(e[r]||(e[r]={}),Object.defineProperty(t,r,{enumerable:!1,configurable:!0,writable:!0,value(s=void 0,u=zt){if(x(s)||y(s)){if(u=s||zt,u in e[r])return e[r][u]}else t=s;let f=t.reduce((d,N)=>{let O=qn(N,u);return typeof O>"u"?d:d===Gt?O:c(d,O)},i);return f=typeof o=="function"?o(f):f,t!==s&&(e[r][u]=f),f}}))}return n("$min",Gt,(r,i)=>i>r?r:i),n("$max",Gt,(r,i)=>i<r?r:i),n("$count",0,r=>r+1),n("$sum",0,(r,i)=>i+r),n("$avg",{n:0,i:0},(r,i)=>(r.n++,r.i+=Number(i),r),r=>r.i/r.n),n("$distinct",new Set,(r,i)=>(r.add(i),r),r=>[...r]),t}var Wn=t=>{t.extendSetup({extendComposer(e){h(e)?e(P.prototype):Object.assign(P.prototype,e)}})};tt.install(Ve).install(Wn);var Yn="composer",Wt="update",J="svg",Yt="methods",Xt="config",Jt="data",xt="-src",He=t=>`script[type=${t}],g-script[type=${t}]`,Xn=t=>{let e=getComputedStyle(t),n=["0px","auto"];return n.includes(e.width)&&n.includes(e.height)},P=class extends V{static install(e){tt.install(e)}#t=null;#r=!1;#i=!1;#s=[];#e=[];#n(e,n,r,i){let c={message:e,scope:n,code:r,toString:()=>`${e}${n?` in ${n}`:""} ${r}`};i.push(c),console.warn(`Graphane Composer - Error: ${c}`),this[A]("error",c)}#h(e){return e.length=0,(n,r="",i="")=>this.#n(n,r,i,this.#s)}async#c(e){let n=await fetch(e);if(n.status!==200)throw new Error(`${n.statusText} (${n.status}): ${n.url}`);return n.text()}async#d(){let e=[...this.querySelectorAll(He("plugin"))];for(let n of e){let r=n.getAttribute("src");if(r){let i=new URL(r,document.location.href);try{let c=await import(i.href);c?.default&&tt.install(c.default)}catch(c){this.#n(c.message,"plugin",r,this.#e)}}}}async#u(){let e=this[g];if(this.#t=null,e.content.innerHTML="",e.svgSrc)try{e.content.innerHTML=await this.#c(e.svgSrc)}catch(r){this.#n(r.message,J,e.svgSrc,this.#e)}else{let r=this.querySelector("template")?.content||this.querySelector(J);r&&e.content.append(r.cloneNode(!0))}let n=e.content.querySelector(J);return n&&(this.#t=tt(n),Xn(n)&&(this.#t.width("100%"),this.#t.height("100%"))),!0}async#o(e,n){let r=this[g],i=e+"Src",c=this.querySelector(He(e));c&&(r[i]=c.getAttribute("src"));let o=r[i]?await this.#c(r[i]).catch(s=>this.#n(s.message,e,r[i],this.#e)):c?.textContent;if(o)try{r[e]=n(o)}catch(s){this.#n(s.message,e,o,this.#e)}}#a(){return this.#o(Yt,e=>Re({$:this},e))}#f(){return this.#o(Xt,St)}#l(){return this.#o(Jt,e=>ee(e)||ne(e)?St(e):re(e))}constructor(){super();let e=this[g];this.shadowRoot.innerHTML=` <style> :host { display : inline-block; width : max-content; height : max-content; } </style><span id="content"></span> `,e.content=this.shadowRoot.querySelector("#content")}[w](){return!this.load()}async[k](e){let n=[];for(let r of e){let i=r.target;if(i===this&&!r.attributeName)return this.load();if(i.tagName.toLowerCase()===J)n.push(this.#u());else if(i.tagName==="SCRIPT"){let c={data:this.#l,methods:this.#a,config:this.#f}[i.type.toLowerCase()];c&&n.push(c())}}if(n.length)return await Promise.all(n),this.update()}async load(){return this.#r=!1,this.#e=[],await this.#d(),await Promise.all([this.#u(),this.#f(),this.#a(),this.#l()]),this.#r=!0,this[A]("load"),this.update(!0)}async update(e=!1){if(!(this.#i&&!e)&&this.#t){this.rendered=!1,this.#i=!0;let n=this[g],r=n.methods?.data?n.methods.data(qt(F(n.data))):qt(F(n.data)),i={...n.methods,..._(r)?{}:r,data:r,$:this};await this.#t.render(i,this.#h(this.#s)),this.#i=!1,this.rendered=!0}}get[J](){return this.#t}get loaded(){return this.#r}get errors(){return[...this.#e,...this.#s]}get version(){return"1.0.0-beta.4"}};P.prototype.update=fe(P.prototype.update,1);de(P).ext(ge).attr({name:J+xt,type:C,value:"",posUpdate:w}).attr({name:Jt,type:$,value:[],posUpdate:Wt}).attr({name:Jt+xt,type:C,posUpdate:w}).prop({name:Yt,type:$,value:{},posUpdate:Wt}).attr({name:Yt+xt,type:C,posUpdate:w}).attr({name:Xt,type:$,value:{},posUpdate:Wt}).attr({name:Xt+xt,type:C,posUpdate:w}).attr({name:"value",set(t){this.data={value:t}},get(){return this.data?.value}}).tag(Yn);})();